<!DOCTYPE html><html lang="en" data-theme="light" class=""><head><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="image" property="og:image" content="https://hashnode.com/utility/r?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1740099430378%2Fb41a9e73-23c4-437c-ae05-b519fbeaab3a.png%3Fw%3D1200%26h%3D630%26fit%3Dcrop%26crop%3Dentropy%26auto%3Dcompress%2Cformat%26format%3Dwebp%26fm%3Dpng"/><link rel="canonical" href="how-to-easily-attach-efs-to-your-ec2-instance.html"/><title>How to Easily Attach EFS to Your EC2 Instance</title><meta name="description" content="Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.
Today, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve..."/><meta property="og:title" content="How to Easily Attach EFS to Your EC2 Instance"/><meta property="og:description" content="Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.
Today, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve..."/><meta property="og:site_name" content="MegBanj&#x27;s Cloud Experience"/><meta property="og:type" content="article"/><meta property="og:url" content="https://megbanj.hashnode.dev/how-to-easily-attach-efs-to-your-ec2-instance"/><meta name="author" content="Ms. B"/><meta property="article:author" content="https://hashnode.com/@MegBanj"/><link rel="author" href="https://hashnode.com/@MegBanj"/><link rel="icon" type="image/png" href="../cdn.hashnode.com/res/hashnode/image/upload/v1736383408254/0c3463f6-9173-49e3-ac1b-cdec58694967.jpeg@auto=compress,format&amp;format=webp&amp;fm=png"/><meta name="theme-color" content="#f6f7fb"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:title" content="How to Easily Attach EFS to Your EC2 Instance"/><meta property="twitter:description" content="Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.
Today, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve..."/><meta property="twitter:image" content="https://hashnode.com/utility/r?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1740099430378%2Fb41a9e73-23c4-437c-ae05-b519fbeaab3a.png%3Fw%3D1200%26h%3D630%26fit%3Dcrop%26crop%3Dentropy%26auto%3Dcompress%2Cformat%26format%3Dwebp%26fm%3Dpng"/><style>/* Monkai theme */
          .hljs{display:block;overflow-x:auto;padding:.5em;background:#23241f}.hljs,.hljs-subst,.hljs-tag{color:#f8f8f2}.hljs-emphasis,.hljs-strong{color:#a8a8a2}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ae81ff}.hljs-code,.hljs-section,.hljs-selector-class,.hljs-title{color:#a6e22e}.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}.hljs-attr,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#f92672}.hljs-attribute,.hljs-symbol{color:#66d9ef}.hljs-class .hljs-title,.hljs-params{color:#f8f8f2}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-string,.hljs-template-variable,.hljs-type,.hljs-variable{color:#e6db74}.hljs-comment,.hljs-deletion,.hljs-meta{color:#75715e}
            /* Monkai theme ends */</style><link rel="alternate" type="application/rss+xml" title="RSS Feed for How to Easily Attach EFS to Your EC2 Instance" href="https://megbanj.hashnode.dev/how-to-easily-attach-efs-to-your-ec2-instance/rss.xml"/><link rel="preload" as="image" href="../cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png@w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress,format&amp;format=webp"/><meta name="next-head-count" content="23"/><style>#nprogress{pointer-events:none}#nprogress .bar{background:#29d;position:fixed;z-index:1031;top:0;left:0;width:100%;height:2px}#nprogress .peg{display:block;position:absolute;right:0;width:100px;height:100%;box-shadow:0 0 10px #29d,0 0 5px #29d;opacity:1;-webkit-transform:rotate(3deg) translate(0,-4px);-ms-transform:rotate(3deg) translate(0,-4px);transform:rotate(3deg) translate(0,-4px)}#nprogress .spinner{display:block;position:fixed;z-index:1031;top:15px;right:15px}#nprogress .spinner-icon{width:18px;height:18px;box-sizing:border-box;border:solid 2px transparent;border-top-color:#29d;border-left-color:#29d;border-radius:50%;-webkit-animation:nprogress-spinner .4s linear infinite;animation:nprogress-spinner .4s linear infinite}.nprogress-custom-parent{overflow:hidden;position:relative}.nprogress-custom-parent #nprogress .bar,.nprogress-custom-parent #nprogress .spinner{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes nprogress-spinner{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style><script async="" src="https://ping.hashnode.com/gtag/js?id=G-72XG3F8LNJ"></script><script type="text/javascript">
    window.dataLayer = window.dataLayer || [];
    function gtag(){window.dataLayer.push(arguments);}
    gtag('js', new Date());
  </script><link rel="preload" href="_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="_next/static/css/883f46e254373107.css" as="style"/><link rel="stylesheet" href="_next/static/css/883f46e254373107.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="_next/static/chunks/8820-56721d947d773244.js"></script><script defer="" src="_next/static/chunks/3364-87c2ffca7936c855.js"></script><script defer="" src="_next/static/chunks/8226.64bcf70d809f2c9f.js"></script><script defer="" src="_next/static/chunks/5950-ac4ab424aa3bdc31.js"></script><script defer="" src="_next/static/chunks/7179.58a3a6a905ed3c5b.js"></script><script src="_next/static/chunks/webpack-21840d9d34b4ca26.js" defer=""></script><script src="_next/static/chunks/framework-ce84985cd166733a.js" defer=""></script><script src="_next/static/chunks/main-7636331dc094a8a9.js" defer=""></script><script src="_next/static/chunks/pages/_app-9b7e51f28796fc05.js" defer=""></script><script src="_next/static/chunks/0b5ea8d6-208c5eca82a94965.js" defer=""></script><script src="_next/static/chunks/6365-3d0e1852af604b43.js" defer=""></script><script src="_next/static/chunks/6933-f312215db97b5535.js" defer=""></script><script src="_next/static/chunks/pages/[...slug]-0670863b9e4a6e11.js" defer=""></script><script src="_next/static/oPPU97FcZpzFPT65rAEgv/_buildManifest.js" defer=""></script><script src="_next/static/oPPU97FcZpzFPT65rAEgv/_ssgManifest.js" defer=""></script><style id="__jsx-668768712">@font-face{font-family:"Suisse Intl";src:url("fonts/SuisseIntl-Book-WebXL.woff2")format("woff2"),url("fonts/SuisseIntl-Book-WebXL.woff")format("woff");font-weight:450;font-style:normal;font-display:block}@font-face{font-family:"Suisse Intl";src:url("fonts/SuisseIntl-Medium-WebXL.woff2")format("woff2"),url("fonts/SuisseIntl-Medium-WebXL.woff")format("woff");font-weight:500;font-style:normal;font-display:block}@font-face{font-family:"Suisse Intl";src:url("fonts/SuisseIntl-SemiBold-WebXL.woff2")format("woff2"),url("fonts/SuisseIntl-SemiBold-WebXL.woff")format("woff");font-weight:600;font-style:normal;font-display:block}@font-face{font-family:"Suisse Intl";src:url("fonts/SuisseIntl-Bold-WebXL.woff2")format("woff2"),url("fonts/SuisseIntl-Bold-WebXL.woff")format("woff");font-weight:700;font-style:normal;font-display:block}html{--font-inter:__Inter_a184c8;--font-suisse-intl:'Suisse Intl';--font-mermaid:var(--font-inter)}</style></head><body class="bg-white leading-normal antialiased dark:bg-slate-950"><input type="hidden" id="hn-user"/><style id="__jsx-668768712">@font-face{font-family:"Suisse Intl";src:url("fonts/SuisseIntl-Book-WebXL.woff2")format("woff2"),url("fonts/SuisseIntl-Book-WebXL.woff")format("woff");font-weight:450;font-style:normal;font-display:block}@font-face{font-family:"Suisse Intl";src:url("fonts/SuisseIntl-Medium-WebXL.woff2")format("woff2"),url("fonts/SuisseIntl-Medium-WebXL.woff")format("woff");font-weight:500;font-style:normal;font-display:block}@font-face{font-family:"Suisse Intl";src:url("fonts/SuisseIntl-SemiBold-WebXL.woff2")format("woff2"),url("fonts/SuisseIntl-SemiBold-WebXL.woff")format("woff");font-weight:600;font-style:normal;font-display:block}@font-face{font-family:"Suisse Intl";src:url("fonts/SuisseIntl-Bold-WebXL.woff2")format("woff2"),url("fonts/SuisseIntl-Bold-WebXL.woff")format("woff");font-weight:700;font-style:normal;font-display:block}html{--font-inter:__Inter_a184c8;--font-suisse-intl:'Suisse Intl';--font-mermaid:var(--font-inter)}</style><div id="__next"><div class="bg-white dark:bg-slate-950" data-theme="light"><script type="application/ld+json">{"@context":"https://schema.org","@type":"NewsArticle","url":"https://megbanj.hashnode.dev/how-to-easily-attach-efs-to-your-ec2-instance","mainEntityOfPage":"https://megbanj.hashnode.dev/how-to-easily-attach-efs-to-your-ec2-instance","headline":"How to Easily Attach EFS to Your EC2 Instance","description":"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve...","datePublished":"2025-02-21T00:46:41.540Z","dateModified":"2025-02-27T14:46:10.803Z","isAccessibleForFree":true,"author":{"@type":"Person","name":"Ms. B","url":"https://hashnode.com/@MegBanj"},"publisher":{"@type":"Organization","name":"MegBanj's Cloud Experience","url":"https://megbanj.hashnode.dev","logo":"https://hashnode.com/utility/r?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1559814205701%2Fek9fO-yT0.jpeg%3Fw%3D800%26bm%3Dnormal%26balph%3D100%26txt64%3DTWVnQmFuaidzIENsb3VkIEV4cGVyaWVuY2U%26txtsize%3D42%26txtfit%3Dmax%26txtalign%3Dmiddle%2Ccenter%26txtfont%3DHelvetica%20Neue%2CBold%26txtclr%3D000000%26blend%3Dffffff"},"image":{"@type":"ImageObject","url":"https://cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png"}}</script><header class="blog-header z-50 w-full border-b relative transform-none md:sticky md:top-0 md:left-0 md:backdrop-blur-lg border-black/10 bg-white bg-opacity-70 dark:border-white/10 dark:bg-slate-900 dark:bg-opacity-70"><div class="container mx-auto px-2 md:px-4 md:py-1 2xl:px-10"><div class="relative z-40 flex flex-row items-center justify-between pb-2 pt-8 md:py-4"><div class="mb-2 flex flex-row items-center md:mb-0 dark:text-white"><a aria-label="Back to blog home" class="blog-back-to-home-button focus-ring-base flex flex-row items-center rounded-full font-medium transition duration-100 ease-in-out focus-ring-colors-base hover:bg-black/10 dark:hover:bg-white/20 mr-2 p-3" data-state="closed" href="https://megbanj.hashnode.dev/"><svg class="h-4 w-4 fill-current pr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 17"><path d="M7.75135 16.7197L0.885098 9.55347C0.683348 9.31347 0.600098 9.08847 0.600098 8.89722C0.600098 8.70597 0.68331 8.44834 0.850898 8.27509L7.71715 1.10884C8.06035 0.749066 8.6299 0.737366 8.9884 1.08189C9.34933 1.42408 9.36107 1.99576 9.01535 2.35351L2.7466 8.89722L9.0466 15.4747C9.39231 15.831 9.38057 16.404 9.01965 16.7463C8.6626 17.091 8.0926 17.0797 7.75135 16.7197Z"></path></svg></a><div class="mr-2"><button type="button" aria-label="Open blog links" class="blog-bars-button focus-ring-base flex flex-row items-center rounded-full font-medium transition duration-100 ease-in-out focus-ring-colors-base hover:bg-black/10 dark:hover:bg-white/20 mr-2 p-2" data-state="closed"><svg class="h-6 w-6 stroke-current" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.9889 11.9969H11.9945H3M20.9889 17.8745H3M21 6.12451H3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div><div class="hidden md:block"><div class="blog-title text-lg md:text-xl text-left break-words font-heading font-semibold leading-snug md:font-bold dark:text-white"><a href="https://megbanj.hashnode.dev/?source=top_nav_blog_home" class="focus-ring-base flex flex-row items-center focus-ring-colors-base" aria-label="MegBanj&#x27;s Cloud Experience home page">MegBanj&#x27;s Cloud Experience</a></div></div></div><div class="flex flex-row items-center dark:text-white"><button type="button" aria-label="Open blog search" class="blog-search-button focus-ring-base flex flex-row items-center rounded-full font-medium transition duration-100 ease-in-out focus-ring-colors-base hover:bg-black/10 dark:hover:bg-white/20 mr-2 p-2" data-state="closed"><svg class="h-6 w-6 stroke-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M21 21L15.8091 15.8091M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><button type="button" aria-label="Toggle blog theme" class="blog-theme-switcher focus-ring-base flex flex-row items-center rounded-full font-medium transition duration-100 ease-in-out focus-ring-colors-base hover:bg-black/10 dark:hover:bg-white/20 mr-2 p-2" data-state="closed"><svg class="h-6 w-6 stroke-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M3 11.4489C3 16.7238 7.16904 21 12.3118 21C16.2709 21 19.6529 18.4657 21 14.8925C19.9331 15.4065 18.7418 15.6938 17.485 15.6938C12.9137 15.6938 9.20787 11.8928 9.20787 7.20396C9.20787 5.24299 9.85605 3.4373 10.9446 2C6.45002 2.6783 3 6.65034 3 11.4489Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="hidden md:mr-2 md:block"><div class="flex animate-pulse flex-row items-center rounded-full border-1-1/2 px-4 py-2 text-center text-sm font-medium bg-slate-100 dark:border-slate-900 dark:bg-slate-800"><svg class="invisible mr-2 h-5 w-5" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2953 4.58698C13.9301 4.37611 13.683 4.00814 13.626 3.59028L13.4336 2.17939C13.3415 1.50373 12.7644 1 12.0825 1L9.91765 1C9.23573 1 8.65865 1.50373 8.56652 2.17939L8.37412 3.5903C8.31709 4.00849 8.06963 4.37672 7.70395 4.58749L7.0923 4.94003C6.72723 5.15046 6.28538 5.18029 5.89533 5.02084L4.57791 4.48227C3.9467 4.22423 3.22192 4.47214 2.88096 5.06269L1.79854 6.9375C1.45758 7.52805 1.60528 8.27969 2.14436 8.69731L3.26948 9.56895C3.60259 9.82701 3.79768 10.2246 3.79799 10.646L3.7985 11.3519C3.7988 11.774 3.60364 12.1724 3.26999 12.4309L2.14433 13.3029C1.60525 13.7205 1.45755 14.4722 1.79851 15.0627L2.88093 16.9375C3.22189 17.5281 3.94667 17.776 4.57788 17.518L5.89588 16.9792C6.28624 16.8196 6.72847 16.8496 7.0937 17.0604L7.70483 17.4133C8.07006 17.6241 8.31718 17.9921 8.37416 18.41L8.56652 19.8206C8.65865 20.4963 9.23573 21 9.91765 21L12.0825 21C12.7644 21 13.3415 20.4963 13.4336 19.8206L13.626 18.4098C13.683 17.9916 13.9305 17.6234 14.2962 17.4127L14.9077 17.0602C15.2728 16.8497 15.7146 16.8199 16.1047 16.9794L17.4221 17.5179C18.0533 17.776 18.7781 17.5281 19.119 16.9375L20.2015 15.0627C20.5424 14.4721 20.3947 13.7205 19.8557 13.3029L18.7305 12.4312C18.3974 12.1732 18.2023 11.7756 18.202 11.3542L18.2015 10.6483C18.2012 10.2263 18.3964 9.82784 18.73 9.56935L19.8556 8.69734C20.3947 8.27972 20.5424 7.52809 20.2014 6.93753L19.119 5.06272C18.7781 4.47217 18.0533 4.22427 17.4221 4.48231L16.1042 5.02106C15.7138 5.18064 15.2716 5.15063 14.9064 4.93976L14.2953 4.58698Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13.3619 12.3637C12.6088 13.6681 10.9408 14.1151 9.63638 13.362C8.33195 12.6088 7.88502 10.9409 8.63813 9.63643C9.39125 8.33199 11.0592 7.88506 12.3637 8.63818C13.6681 9.39129 14.115 11.0593 13.3619 12.3637Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="invisible">Follow</span></div></div><div class="hidden md:mr-2 md:block"><div class="animate-pulse rounded-full border-1-1/2 p-2 bg-slate-100 dark:border-slate-900 dark:bg-slate-800"><svg class="invisible h-5 w-5" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.1728 3.50973C12.587 3.50973 12.9228 3.17395 12.9228 2.75973C12.9228 2.34552 12.587 2.00973 12.1728 2.00973V3.50973ZM18.958 9.10996C18.958 8.69575 18.6222 8.35996 18.208 8.35996C17.7938 8.35996 17.458 8.69575 17.458 9.10996H18.958ZM1.5018 5.97023C1.1338 5.7801 0.681352 5.9243 0.491222 6.2923C0.301092 6.66029 0.445283 7.11275 0.813283 7.30288L1.5018 5.97023ZM15.6397 8.12794C15.9841 7.8979 16.0769 7.43217 15.8468 7.08771C15.6168 6.74325 15.1511 6.6505 14.8066 6.88055L15.6397 8.12794ZM7.29742 9.80877L6.95316 10.4751L7.29742 9.80877ZM9.154 10.5963L9.2714 9.85557L9.154 10.5963ZM12.1823 9.53509L11.7658 8.91139L12.1823 9.53509ZM10.4253 10.5251L10.2259 9.80209L10.4253 10.5251ZM16.1797 3.11305C15.8868 2.82016 15.4119 2.82016 15.1191 3.11305C14.8262 3.40595 14.8262 3.88082 15.1191 4.17371L16.1797 3.11305ZM17.3215 5.31545L16.7911 5.84578C16.9358 5.99043 17.1332 6.06972 17.3377 6.06527C17.5423 6.06083 17.7361 5.97304 17.8743 5.82224L17.3215 5.31545ZM21.5529 1.80928C21.8328 1.50394 21.8121 1.02952 21.5068 0.749625C21.2015 0.46973 20.727 0.490357 20.4471 0.795697L21.5529 1.80928ZM17.458 14.2317C17.458 14.8735 16.9378 15.3937 16.296 15.3937V16.8937C17.7662 16.8937 18.958 15.7019 18.958 14.2317H17.458ZM16.296 15.3937H2.912V16.8937H16.296V15.3937ZM2.912 15.3937C2.27025 15.3937 1.75 14.8735 1.75 14.2317H0.25C0.25 15.7019 1.44182 16.8937 2.912 16.8937V15.3937ZM1.75 14.2317V4.67173H0.25V14.2317H1.75ZM1.75 4.67173C1.75 4.02998 2.27024 3.50973 2.912 3.50973V2.00973C1.44182 2.00973 0.25 3.20155 0.25 4.67173H1.75ZM2.912 3.50973H12.1728V2.00973H2.912V3.50973ZM18.958 14.2317V9.10996H17.458V14.2317H18.958ZM0.813283 7.30288L6.95316 10.4751L7.64168 9.14245L1.5018 5.97023L0.813283 7.30288ZM12.5988 10.1588L15.6397 8.12794L14.8066 6.88055L11.7658 8.91139L12.5988 10.1588ZM6.95316 10.4751C7.82539 10.9257 8.40949 11.2377 9.03661 11.3371L9.2714 9.85557C8.93995 9.80304 8.60585 9.6406 7.64168 9.14245L6.95316 10.4751ZM11.7658 8.91139C10.8633 9.51412 10.5494 9.71287 10.2259 9.80209L10.6247 11.2481C11.2368 11.0793 11.7824 10.704 12.5988 10.1588L11.7658 8.91139ZM9.03661 11.3371C9.56626 11.421 10.1077 11.3907 10.6247 11.2481L10.2259 9.80209C9.91519 9.88779 9.58974 9.90602 9.2714 9.85557L9.03661 11.3371ZM15.1191 4.17371L16.7911 5.84578L17.8518 4.78512L16.1797 3.11305L15.1191 4.17371ZM17.8743 5.82224L21.5529 1.80928L20.4471 0.795697L16.7686 4.80866L17.8743 5.82224Z"></path></svg></div></div><div class="h-10 w-10 animate-pulse rounded-full border-1-1/2 bg-slate-100 dark:border-slate-900 dark:bg-slate-800"></div></div></div><div class="mx-auto my-5 flex w-2/3 flex-row items-center justify-center md:hidden"><div class="blog-title text-2xl text-center break-words font-heading font-semibold leading-snug md:font-bold dark:text-white"><a href="https://megbanj.hashnode.dev/?source=top_nav_blog_home" class="focus-ring-base flex flex-row items-center focus-ring-colors-base" aria-label="MegBanj&#x27;s Cloud Experience home page">MegBanj&#x27;s Cloud Experience</a></div></div><div class="blog-sub-header mb-4 md:hidden" data-testid="blog-sub-header"><div class="md:(mb-0 ml-auto) flex flex-row items-center justify-center gap-x-3"><div class="flex animate-pulse flex-row items-center rounded-full border-1-1/2 px-4 py-2 text-center text-sm font-medium bg-slate-100 dark:border-slate-900 dark:bg-slate-800"><svg class="invisible mr-2 h-5 w-5" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2953 4.58698C13.9301 4.37611 13.683 4.00814 13.626 3.59028L13.4336 2.17939C13.3415 1.50373 12.7644 1 12.0825 1L9.91765 1C9.23573 1 8.65865 1.50373 8.56652 2.17939L8.37412 3.5903C8.31709 4.00849 8.06963 4.37672 7.70395 4.58749L7.0923 4.94003C6.72723 5.15046 6.28538 5.18029 5.89533 5.02084L4.57791 4.48227C3.9467 4.22423 3.22192 4.47214 2.88096 5.06269L1.79854 6.9375C1.45758 7.52805 1.60528 8.27969 2.14436 8.69731L3.26948 9.56895C3.60259 9.82701 3.79768 10.2246 3.79799 10.646L3.7985 11.3519C3.7988 11.774 3.60364 12.1724 3.26999 12.4309L2.14433 13.3029C1.60525 13.7205 1.45755 14.4722 1.79851 15.0627L2.88093 16.9375C3.22189 17.5281 3.94667 17.776 4.57788 17.518L5.89588 16.9792C6.28624 16.8196 6.72847 16.8496 7.0937 17.0604L7.70483 17.4133C8.07006 17.6241 8.31718 17.9921 8.37416 18.41L8.56652 19.8206C8.65865 20.4963 9.23573 21 9.91765 21L12.0825 21C12.7644 21 13.3415 20.4963 13.4336 19.8206L13.626 18.4098C13.683 17.9916 13.9305 17.6234 14.2962 17.4127L14.9077 17.0602C15.2728 16.8497 15.7146 16.8199 16.1047 16.9794L17.4221 17.5179C18.0533 17.776 18.7781 17.5281 19.119 16.9375L20.2015 15.0627C20.5424 14.4721 20.3947 13.7205 19.8557 13.3029L18.7305 12.4312C18.3974 12.1732 18.2023 11.7756 18.202 11.3542L18.2015 10.6483C18.2012 10.2263 18.3964 9.82784 18.73 9.56935L19.8556 8.69734C20.3947 8.27972 20.5424 7.52809 20.2014 6.93753L19.119 5.06272C18.7781 4.47217 18.0533 4.22427 17.4221 4.48231L16.1042 5.02106C15.7138 5.18064 15.2716 5.15063 14.9064 4.93976L14.2953 4.58698Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13.3619 12.3637C12.6088 13.6681 10.9408 14.1151 9.63638 13.362C8.33195 12.6088 7.88502 10.9409 8.63813 9.63643C9.39125 8.33199 11.0592 7.88506 12.3637 8.63818C13.6681 9.39129 14.115 11.0593 13.3619 12.3637Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="invisible">Follow</span></div><div class="animate-pulse rounded-full border-1-1/2 p-2 bg-slate-100 dark:border-slate-900 dark:bg-slate-800"><svg class="invisible h-5 w-5" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.1728 3.50973C12.587 3.50973 12.9228 3.17395 12.9228 2.75973C12.9228 2.34552 12.587 2.00973 12.1728 2.00973V3.50973ZM18.958 9.10996C18.958 8.69575 18.6222 8.35996 18.208 8.35996C17.7938 8.35996 17.458 8.69575 17.458 9.10996H18.958ZM1.5018 5.97023C1.1338 5.7801 0.681352 5.9243 0.491222 6.2923C0.301092 6.66029 0.445283 7.11275 0.813283 7.30288L1.5018 5.97023ZM15.6397 8.12794C15.9841 7.8979 16.0769 7.43217 15.8468 7.08771C15.6168 6.74325 15.1511 6.6505 14.8066 6.88055L15.6397 8.12794ZM7.29742 9.80877L6.95316 10.4751L7.29742 9.80877ZM9.154 10.5963L9.2714 9.85557L9.154 10.5963ZM12.1823 9.53509L11.7658 8.91139L12.1823 9.53509ZM10.4253 10.5251L10.2259 9.80209L10.4253 10.5251ZM16.1797 3.11305C15.8868 2.82016 15.4119 2.82016 15.1191 3.11305C14.8262 3.40595 14.8262 3.88082 15.1191 4.17371L16.1797 3.11305ZM17.3215 5.31545L16.7911 5.84578C16.9358 5.99043 17.1332 6.06972 17.3377 6.06527C17.5423 6.06083 17.7361 5.97304 17.8743 5.82224L17.3215 5.31545ZM21.5529 1.80928C21.8328 1.50394 21.8121 1.02952 21.5068 0.749625C21.2015 0.46973 20.727 0.490357 20.4471 0.795697L21.5529 1.80928ZM17.458 14.2317C17.458 14.8735 16.9378 15.3937 16.296 15.3937V16.8937C17.7662 16.8937 18.958 15.7019 18.958 14.2317H17.458ZM16.296 15.3937H2.912V16.8937H16.296V15.3937ZM2.912 15.3937C2.27025 15.3937 1.75 14.8735 1.75 14.2317H0.25C0.25 15.7019 1.44182 16.8937 2.912 16.8937V15.3937ZM1.75 14.2317V4.67173H0.25V14.2317H1.75ZM1.75 4.67173C1.75 4.02998 2.27024 3.50973 2.912 3.50973V2.00973C1.44182 2.00973 0.25 3.20155 0.25 4.67173H1.75ZM2.912 3.50973H12.1728V2.00973H2.912V3.50973ZM18.958 14.2317V9.10996H17.458V14.2317H18.958ZM0.813283 7.30288L6.95316 10.4751L7.64168 9.14245L1.5018 5.97023L0.813283 7.30288ZM12.5988 10.1588L15.6397 8.12794L14.8066 6.88055L11.7658 8.91139L12.5988 10.1588ZM6.95316 10.4751C7.82539 10.9257 8.40949 11.2377 9.03661 11.3371L9.2714 9.85557C8.93995 9.80304 8.60585 9.6406 7.64168 9.14245L6.95316 10.4751ZM11.7658 8.91139C10.8633 9.51412 10.5494 9.71287 10.2259 9.80209L10.6247 11.2481C11.2368 11.0793 11.7824 10.704 12.5988 10.1588L11.7658 8.91139ZM9.03661 11.3371C9.56626 11.421 10.1077 11.3907 10.6247 11.2481L10.2259 9.80209C9.91519 9.88779 9.58974 9.90602 9.2714 9.85557L9.03661 11.3371ZM15.1191 4.17371L16.7911 5.84578L17.8518 4.78512L16.1797 3.11305L15.1191 4.17371ZM17.8743 5.82224L21.5529 1.80928L20.4471 0.795697L16.7686 4.80866L17.8743 5.82224Z"></path></svg></div></div><div class="mt-6"></div></div></div></header><div class="blog-post-area relative z-40"><main class="blog-post-detail-card pb-24"><article><style>
    [data-rmiz-ghost] {
      position: absolute;
      pointer-events: none;
    }
    [data-rmiz-btn-zoom],
    [data-rmiz-btn-unzoom] {
      background-color: rgba(0, 0, 0, 0.7);
      border-radius: 50%;
      border: none;
      box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);
      color: #fff;
      height: 40px;
      margin: 0;
      outline-offset: 2px;
      padding: 9px;
      touch-action: manipulation;
      width: 40px;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }
    [data-rmiz-btn-zoom]:not(:focus):not(:active) {
      position: absolute;
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      overflow: hidden;
      pointer-events: none;
      white-space: nowrap;
      width: 1px;
    }
    [data-rmiz-btn-zoom] {
      position: absolute;
      inset: 10px 10px auto auto;
      cursor: zoom-in;
    }
    [data-rmiz-btn-unzoom] {
      position: absolute;
      inset: 20px 20px auto auto;
      cursor: zoom-out;
      z-index: 1;
      display: none;
    }
    [data-rmiz-content="found"] img,
    [data-rmiz-content="found"] svg,
    [data-rmiz-content="found"] [role="img"],
    [data-rmiz-content="found"] [data-zoom] {
      cursor: zoom-in;
    }
    [data-rmiz-modal]::backdrop {
      display: none;
    }
    [data-rmiz-modal][open] {
      position: fixed;
      width: 100vw;
      width: 100dvw;
      height: 100vh;
      height: 100dvh;
      max-width: none;
      max-height: none;
      margin: 0;
      padding: 0;
      border: 0;
      background: transparent;
      overflow: hidden;
    }
    [data-rmiz-modal-overlay] {
      position: absolute;
      inset: 0;
      transition: background-color 0.3s;
    }
    [data-rmiz-modal-overlay="hidden"] {
      background-color: rgba(255, 255, 255, 0);
    }
    [data-rmiz-modal-overlay="visible"] {
      /* This bg color is different from default */
      background-color: rgba(0, 0, 0, 0.5);
    }
    [data-rmiz-modal-content] {
      position: relative;
      width: 100%;
      height: 100%;
    }
    [data-rmiz-modal-img] {
      position: absolute;
      cursor: zoom-out;
      image-rendering: high-quality;
      transform-origin: top left;
      transition: transform 0.3s;
      /* This is added additionally to override prose styles of image*/
      margin: 0 !important;
    }
    @media (prefers-reduced-motion: reduce) {
      [data-rmiz-modal-overlay],
      [data-rmiz-modal-img] {
        transition-duration: 0.01ms !important;
      }
    }
</style><div class="blog-article-page container relative mx-auto grid grid-cols-8"><div class="col-span-full lg:col-span-6 lg:col-start-2"><div class="relative"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:52.5%"></span><img alt="How to Easily Attach EFS to Your EC2 Instance" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png@w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress,format&amp;format=webp" decoding="async" data-nimg="responsive" class="mb-0 block w-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(https://megbanj.hashnode.dev/&quot;https://cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png?w=400&amp;h=210&amp;fit=crop&amp;crop=entropy&amp;auto=compress,format&amp;format=webp&amp;fm=blurhash&quot;)"/><noscript><img alt="How to Easily Attach EFS to Your EC2 Instance" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="mb-0 block w-full" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png@w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress,format&amp;format=webp"/></noscript></span></div><div class="mt-6 break-words px-4 text-center font-heading text-3xl font-bold text-slate-900 dark:text-white md:mt-10 md:px-5 md:text-4xl lg:px-8 xl:px-20 xl:text-5xl mb-8 md:mb-14"><h1 class="leading-tight" data-query="post-title">How to Easily Attach EFS to Your EC2 Instance</h1></div><div class="relative z-20 mb-8 flex flex-row flex-wrap items-center justify-center px-4 md:-mt-7 md:mb-14 md:text-lg last:md:mb-10"><div class="mb-5 flex w-full flex-row items-center justify-center md:mb-0 md:w-auto md:justify-start"><div style="z-index:1" class="overflow-hidden rounded-full  bg-slate-200  dark:bg-white/20 md:mr-3 h-10 w-10 md:h-12 md:w-12"><a href="https://hashnode.com/@MegBanj" class="relative block h-full w-full"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27200%27%20height=%27200%27/%3e"/></span><img alt="Ms. B&#x27;s photo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="relative z-20 block w-full rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Ms. B&#x27;s photo" loading="lazy" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="relative z-20 block w-full rounded-full" src="../cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png@w=200&amp;h=200&amp;fit=crop&amp;crop=faces&amp;auto=compress,format&amp;format=webp"/></noscript></span></a></div><a href="https://hashnode.com/@MegBanj" class="ml-2 font-semibold text-slate-600 dark:text-white md:ml-0"><span>Ms. B</span></a></div><div class="mb-5 flex w-full flex-row items-center justify-center md:mb-0 md:w-auto md:justify-start"><span class="mx-3 hidden font-bold text-slate-500 md:block">·</span><a href="how-to-easily-attach-efs-to-your-ec2-instance.html" class="tooltip-handle text-slate-600 dark:text-slate-400" data-title="Feb 21, 2025 00:46"><time dateTime="2025-02-21T00:46:41.540Z">Feb 21, 2025</time></a><span class="mx-3 block font-bold text-slate-500">·</span><p class="flex flex-row items-center text-slate-600 dark:text-slate-400"><svg class="mr-2 h-5 w-5 fill-current opacity-75" viewBox="0 0 576 512"><path d="M540.9 56.77c-45.95-16.66-90.23-24.09-129.1-24.75-60.7.94-102.7 17.45-123.8 27.72-21.1-10.27-64.1-26.8-123.2-27.74-40-.05-84.4 8.35-129.7 24.77C14.18 64.33 0 84.41 0 106.7v302.9c0 14.66 6.875 28.06 18.89 36.8 11.81 8.531 26.64 10.98 40.73 6.781 118.9-36.34 209.3 19.05 214.3 22.19C277.8 477.6 281.2 480 287.1 480c6.52 0 10.12-2.373 14.07-4.578 10.78-6.688 98.3-57.66 214.3-22.27 14.11 4.25 28.86 1.75 40.75-6.812C569.1 437.6 576 424.2 576 409.6V106.7c0-22.28-14.2-42.35-35.1-49.93zM272 438.1c-24.95-12.03-71.01-29.37-130.5-29.37-27.83 0-58.5 3.812-91.19 13.77-4.406 1.344-9 .594-12.69-2.047C34.02 417.8 32 413.1 32 409.6V106.7c0-8.859 5.562-16.83 13.86-19.83C87.66 71.7 127.9 63.95 164.5 64c51.8.81 89.7 15.26 107.5 23.66V438.1zm272-28.5c0 4.375-2.016 8.234-5.594 10.84-3.766 2.703-8.297 3.422-12.69 2.125C424.1 391.6 341.3 420.4 304 438.3V87.66c17.8-8.4 55.7-22.85 107.4-23.66 35.31-.063 76.34 7.484 118.8 22.88 8.2 3 13.8 10.96 13.8 19.82v302.9z"></path></svg><span>7<!-- --> min read</span></p></div></div><div class="-mt-7 mb-8 flex flex-col items-center md:mb-14 md:flex-row md:justify-center"><div class="mb-2 ml-0 mt-4 h-10 w-48 animate-pulse rounded-full bg-slate-100 p-2 dark:border-slate-900 dark:bg-slate-800 md:mb-0 md:ml-4 md:mr-2 md:mt-0"></div></div></div></div><div class="blog-content-wrapper article-main-wrapper container relative z-30 mx-auto grid grid-flow-row grid-cols-8 xl:gap-6 2xl:grid-cols-10"><section class="blog-content-main z-20 col-span-8 mb-10 px-4 md:z-10 lg:col-span-6 lg:col-start-2 lg:px-0 xl:col-span-6 xl:col-start-2 2xl:col-span-6 2xl:col-start-3"><div class="relative"><div id="post-content-parent" class="relative mb-10 pb-14"><div id="post-content-wrapper" class="prose prose-base mx-auto mb-10 min-h-30 break-words dark:prose-dark lg:prose-lg"><p>Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.</p>
<p>Today, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve into giving you the steps, let me briefly give an explanation of what EFS is.</p>
<p>This is an architectural design to explain the process for your understanding.</p>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740087532547/925a25ff-bb66-4774-8061-e0acc52b9494.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<p>Amazon Elastic File System (Amazon EFS) is a file storage service that can be used with Amazon compute (Amazon EC2, Amazon ECS, Amazon EKS, AWS Lambda, and AWS Fargate, containers, serverless) and on-premises servers. It provides a file system interface, file system access and concurrently accessible storage for up to thousands of EC2 instances.</p>
<p>It is built to scale on demand without disrupting applications, growing and shrinking automatically as you add and remove files which makes it highly scalable, highly available, and highly durable. You can share data without provisioning or managing storage capacity and performance and you can also create and configure file systems quickly and easily.</p>
<p>Amazon EFS offers the different file system types, performance and throughput modes to meet your availability and durability needs.</p>
<p>Amazon EFS supports the Network File System version 4 (NFSv4.1 and NFSv4.0) protocol.</p>
<p>Amazon EFS supports authentication, authorization, and encryption capabilities to help you meet your security and compliance requirements. Amazon EFS supports two forms of encryption for file systems: <mark>encryption in transit and encryption at rest</mark>. You can enable encryption at rest when creating an Amazon EFS file system. If you do, <mark>all of your data and metadata is encrypted</mark>. You can enable encryption in transit when you mount the file system.</p>
<p>Now that I have given a brief summary of what an Amazon EFS is and its attributes, let’s get started.</p>
<p>We would need to create the following resources on AWS to help us achieve what we want:</p>
<p>a. An AWS account</p>
<p>b. Amazon EFS</p>
<p>c. Multiple instances (I would be creating 2 instances)</p>
<p>d. Security Group</p>
<p><mark>A.</mark> You need an AWS account to get started. This link would help you create an AWS account. <a target="_blank" href="https://signin.aws.amazon.com/signup?request_type=register" rel="nofollow ugc">https://signin.aws.amazon.com/signup?request_type=register</a>. After creating an account, that account becomes the Root user. You can go ahead and create a user under the IAM.</p>
<p>If you already have an existing account, go to <a target="_blank" href="https://aws.amazon.com" rel="nofollow ugc">https://aws.amazon.com</a>, and sign into the console.</p>
<h3 id="heading-b-creating-the-amazon-efs"><strong><mark>B. CREATING THE AMAZON EFS</mark></strong></h3>
<ol>
<li>Type EFS in the search bar and click on it.</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740064869569/3de09a76-a04c-42b2-a71c-af398c324cda.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="2">
<li><p>Click <strong>CREATE FILE SYSTEM</strong></p>
</li>
<li><p><mark>Name:</mark> Give a unique name for your EFS File System.</p>
<p> <mark>Virtual Private Cloud:</mark> This is created automatically with the EFS.</p>
</li>
</ol>
<p>After you have given the EFS a name, select <strong>Customize</strong>.</p>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740065040291/8441eebe-b390-4749-99f1-143879a38108.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="4">
<li>Under customize, there are 4 steps. You can leave Step 1 and 2 in its default state and move to Step 3.</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740065273532/1f80be22-1003-4e30-a28b-9adb1eb76868.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="5">
<li><p>Step 3 covers the policy options. I checked the encryption in-transit.</p>
<p> <strong><mark>Encryption in-transit</mark></strong> is a process of protecting data while it is being transferred between two points in a network.</p>
</li>
<li><p>Select <strong>Create.</strong></p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740065475238/0cd4271a-ddc6-4613-8cb1-d6ccca8ba3e3.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="7">
<li>The EFS has be successfully created as shown in diagram below.</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740066328963/7b2f25cf-2fa1-4c96-a21e-26cd1185e201.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<h3 id="heading-c-creating-our-ec2-instances"><strong><mark>C. CREATING OUR EC2 INSTANCES</mark></strong></h3>
<ol>
<li><p>Type EC2 in the search bar and click on it.</p>
<p> <img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740066524564/ddbae823-125e-4d97-bbee-9799b50bface.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
</li>
<li><p>Next, select <strong>Launch Instance.</strong></p>
</li>
<li><p><mark>Name:</mark> Give a unique name to your EC2 instance.</p>
<p> <mark>Application and OS Images (AMI):</mark> Choose <strong>Amazon Linux</strong>.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740066690474/01d740fb-e15b-406e-a235-aaa3a9d3880a.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="4">
<li><p><strong><mark>Description</mark></strong>: I left it as default</p>
<p> <strong><mark>Instance type:</mark></strong> I chose <strong>t2 micro</strong>. You can choose any other instance type under the free tier eligible.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740066874989/c171f03e-df18-487b-843b-1637198abe00.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="5">
<li><p><strong><mark>Key pair:</mark></strong> I chose to <strong>create a key pair</strong>, but you can <strong>Proceed without key pair</strong>.</p>
<p> If you choose Proceed without key pair, it takes you to the next stage.</p>
<p> If you choose to create a key pair, the diagram attached shows you what to do.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740067159957/f7b7eb9c-455b-4948-9706-cba8d44fcabf.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="6">
<li><p>Under Network settings, click <strong>Edit.</strong> The VPC that was automatically created by AWS for the EFS becomes the default VPC. Leave every part as default and move to <strong>Firewall (security groups)</strong>.</p>
<p> Select <strong>Create security group</strong> and give it a unique name. You can also give it a description by describing what the security group is for.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740067413922/446b1695-3601-4bd8-beaa-791ee5799acd.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="7">
<li><p>You can leave every other selection in their default state and proceed to <strong><mark>Launch Instance</mark></strong>.</p>
</li>
<li><p>At this point, the instance is successfully launched.</p>
<p> Follow same steps and create the second instance.</p>
<p> <img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740078532058/99062a7c-bb22-46bd-92e9-45b115a482c7.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
</li>
<li><p>After the second instance is successfully launched, this is what you would be having.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740078618235/b4104873-e918-4a63-8d57-5bc93822bb77.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<h3 id="heading-d-configuring-the-rules-in-the-security-group"><strong><mark>D. CONFIGURING THE RULES IN THE SECURITY GROUP</mark></strong></h3>
<ol>
<li><p>After the launching of instances, we need to edit the rules for the security group to enable the EC2 instances communicate with the EFS by allowing traffic from port 2049.</p>
<p> For this to be effected, go to <strong>Network &amp; Security</strong> and click <strong><mark>Security Groups</mark></strong>.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740078813337/b163790d-e3b5-4d24-aef8-cd8017d80e21.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="2">
<li><p>The security group tab shows you all the security groups created.</p>
<p> <strong><mark>Default</mark></strong> was created for the EFS automatically while the EFS was being configured.</p>
<p> <strong><mark>SG_Machine1</mark></strong> was created when I was launching the first EC2 instance.</p>
<p> <strong><mark>SG_Machine2</mark></strong> was created when I was launching the second EC2 instance.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740079074214/50b5b986-ab7e-42f6-9e78-bd28499a7a42.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="3">
<li>Select the <strong>default</strong> security group, and click <strong><mark>Edit Inbound Rule</mark></strong>.</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740079339061/30225a03-df3f-46af-9379-8da6789d3794.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="4">
<li><p>Click <strong>Add Rule</strong>.</p>
<p> Under Type, Click the drop-down arrow and select <strong><mark>NFS</mark></strong>. Also, select the security group created for that particular instance as shown in the diagram.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740079458775/b4b65e97-3c7c-4857-9885-0e2db39611c1.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="5">
<li><p>Repeat same process above for the second instance also. Make sure to select the correct security group for the instance.</p>
<p> Next, select <strong><mark>Save Rules</mark></strong>.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740079945983/d7473b87-3425-472f-8d21-720192924b80.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="6">
<li>The inbound rules on the default security group should look this way after editing.</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740080099403/8725ec57-bea1-47b7-ad0f-8cf0f53595ba.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<h3 id="heading-e-mounting-the-efs-and-connecting-the-ec2-instances-to-the-efs"><strong><mark>E. MOUNTING THE EFS AND CONNECTING THE EC2 INSTANCES TO THE EFS</mark></strong></h3>
<ol>
<li>At this stage, I went back to my instance and selected one of my instances and clicked <strong><mark>Connect</mark></strong>.</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740080438556/e46f99ba-73b5-42a6-9b79-d396bed152cc.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="2">
<li><p>I would be selecting <strong>SSH Client</strong> for my connection because I have a keypair which I generated for my connection.</p>
<p> You can visit <a target="_blank" href="https://megbanj.hashnode.dev/quick-guide-to-deploying-a-linux-ec2-instance-on-aws" rel="nofollow ugc">Quick Guide to Deploying a Linux EC2 Instance on AWS</a> to see how you can connect to your EC2 instance by using keypair.</p>
</li>
<li><p>Below is a view of what you would see on your <strong>command prompt</strong> or <strong>terminal</strong> once the instance is connected.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740080827733/ef22fd82-c11f-4839-83df-a68f221f7b61.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="4">
<li><p>I installed the Amazon EFS utilities using the command <code>sudo dnf install -y amazon-efs-utils</code></p>
<p> When installation is complete, you would see the information below</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740093348647/13fcb74f-1383-42d9-b2d7-262ceccfb194.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="5">
<li><p>Next, let’s create a directory by using the command <code>sudo mkdir (directory name)</code><strong>.</strong> I named my directory <strong>efs</strong>.</p>
</li>
<li><p>a. Return to the EFS on your console, Click on <strong><mark>Attach</mark></strong>.</p>
<p> <img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740093936322/4660467d-3b35-4c2f-af9f-fd136485f0a3.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="6">
<li>b. Copy the mount command using the <strong><mark>EFS mount helper.</mark></strong></li>
</ol>
</li>
<li><p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740097665820/6d51b56d-3736-4917-a1a6-80b4e77704b1.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<p> Return to your command prompt or terminal and paste the <strong><mark>EFS mount helper command</mark></strong> which you just copied. Run the command.</p>
</li>
<li><p>To confirm that you have successfully mounted the EFS, run the <code>df -T</code> command.</p>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740094254932/e4d13839-6d73-49e2-a180-a56488fa8c42.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="9">
<li><p>You can run the <code>ls -l</code> command to see the permissions on the file.</p>
<p> As you can see in the diagram, the ownership of the <strong><mark>efs</mark></strong> directory is the <strong><mark>root</mark></strong> which does not give me the permission to execute any command as the <strong><mark>user.</mark></strong> For me to get the permission, I used <code>sudo chown</code> command.</p>
<p> I typed <code>sudo chown ec2-user efs/.</code> You would see that the change of ownership was done immediately I ran the chown command.</p>
<p> <img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740094453749/0d0d9b9a-d64b-4127-8eef-1517923f3309.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="10">
<li><p>Type <code>cd</code> <strong><mark>(directory name)</mark></strong> to get into your directory.</p>
<p>Next, you can create or put any type of files inside the directory. To create a file, use the <code>touch</code> <strong><mark>command + filename</mark></strong>. I created a file named <strong>Dragonfly</strong> and also dropped a <strong>WordPress document</strong> in the directory.</p>
<p>Afterwards, I ran the <code>ls</code> command to confirm the files I have in my directory as seen below.</p>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740095244108/7d4703c3-131c-46e8-8761-8e972f29753a.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740095253812/89814bde-4fac-4dee-9bad-2fdb40b52ef2.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
</li>
<li><p>Now, let’s connect the second instance and see if we can view the same files in the directory that has been mounted on the EFS by the first EC2 instance.</p>
</li>
<li><p>Type the same commands as you did when you connected the previous EC2 instance.</p>
<ul>
<li><p><code>sudo dnf install -y amazon-efs-utils</code></p>
</li>
<li><p>make directory (give it the same name as the one in the previous EC2 instance).</p>
</li>
<li><p>sudo mount (using the EFS mount finder)</p>
</li>
<li><p><code>df -T</code></p>
<p>  From the diagram below, you would notice the EFS has been mounted.</p>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740095830974/7d638266-6236-418e-b427-e181d34ebe00.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<ol start="13">
<li><p>Enter your directory by using cd command</p>
<ul>
<li><p>cd (directory name)</p>
<p>  When you are in the directory, type the <code>ls</code> command to give you a list of the files in the directory. Remember you don’t need to create any file in this instance anymore. Since you have successfully mounted the EFS on the second instance, you would be able to see whatever files has been saved in the EFS.</p>
</li>
</ul>
</li>
<li><p>Notice how <strong><mark>Instance 2</mark></strong> can see the same files that <strong><mark>Instance 1</mark></strong> created and saved on the EFS.</p>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740096931090/22480733-fe47-43da-98c4-8c0530811bd3.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<p><img data-zoomable="true" loading="lazy" src="../cdn.hashnode.com/res/hashnode/image/upload/v1740096941432/dcae3206-616f-4ff8-8841-b060f6551a0a.png@auto=compress,format&amp;format=webp" alt class="image--center mx-auto" /></p>
<p>I hope I have been able to help someone out through the process and believe that you enjoyed putting the process together to achieve your result.</p>
</li>
</ol>
<p>Thank you for stopping by and look forward to dropping another piece for your enlightenment.</p>
<p>Kindly drop a comment, like and share.</p>
</div></div><div class="mb-5 flex w-full flex-row flex-wrap justify-center md:mb-0"><a class="mb-3 mr-3 rounded-lg border bg-slate-100 px-2 py-1 text-base font-medium text-slate-700 hover:bg-slate-200 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700" href="https://megbanj.hashnode.dev/tag/efs?source=tags_bottom_blogs"><span>EFS</span></a><a class="mb-3 mr-3 rounded-lg border bg-slate-100 px-2 py-1 text-base font-medium text-slate-700 hover:bg-slate-200 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700" href="https://megbanj.hashnode.dev/tag/storage?source=tags_bottom_blogs"><span>storage</span></a><a class="mb-3 mr-3 rounded-lg border bg-slate-100 px-2 py-1 text-base font-medium text-slate-700 hover:bg-slate-200 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700" href="https://megbanj.hashnode.dev/tag/ec2?source=tags_bottom_blogs"><span>ec2</span></a><a class="mb-3 mr-3 rounded-lg border bg-slate-100 px-2 py-1 text-base font-medium text-slate-700 hover:bg-slate-200 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700" href="https://megbanj.hashnode.dev/tag/ec2-instance?source=tags_bottom_blogs"><span>EC2 instance</span></a><a class="mb-3 mr-3 rounded-lg border bg-slate-100 px-2 py-1 text-base font-medium text-slate-700 hover:bg-slate-200 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700" href="https://megbanj.hashnode.dev/tag/mount?source=tags_bottom_blogs"><span>mount</span></a><a class="mb-3 mr-3 rounded-lg border bg-slate-100 px-2 py-1 text-base font-medium text-slate-700 hover:bg-slate-200 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700" href="https://megbanj.hashnode.dev/tag/securitygroups?source=tags_bottom_blogs"><span>securitygroups</span></a><a class="mb-3 mr-3 rounded-lg border bg-slate-100 px-2 py-1 text-base font-medium text-slate-700 hover:bg-slate-200 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700" href="https://megbanj.hashnode.dev/tag/connect?source=tags_bottom_blogs"><span>connect</span></a><a class="mb-3 mr-3 rounded-lg border bg-slate-100 px-2 py-1 text-base font-medium text-slate-700 hover:bg-slate-200 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700" href="https://megbanj.hashnode.dev/tag/amazon-ec2?source=tags_bottom_blogs"><span>Amazon EC2</span></a><a class="mb-3 mr-3 rounded-lg border bg-slate-100 px-2 py-1 text-base font-medium text-slate-700 hover:bg-slate-200 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700" href="https://megbanj.hashnode.dev/tag/amazon-efs?source=tags_bottom_blogs"><span>Amazon EFS</span></a></div></div></section></div><div class="absolute h-px w-px overflow-hidden" id="refNode1" style="top:100px;left:100px"> </div><div class="absolute left-0 top-0 h-px w-px overflow-hidden" id="refNode2"></div><div class="absolute z-50 mt-4 hidden"><div class="flex flex-row items-center rounded-lg border border-slate-300 bg-white p-4 text-slate-800 shadow-lg dark:border-white dark:bg-slate-800 dark:text-slate-300"><span class="mr-3 block">Share this</span><a href="https://twitter.com/share?url=https%3A%2F%2Fmegbanj.hashnode.dev%2Fhow-to-easily-attach-efs-to-your-ec2-instance&amp;text=%20%40MegBanj" class="rounded-full border border-transparent py-1 font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-200 disabled:opacity-50 hover:dark:bg-slate-700 flex flex-row items-center focus:outline-none px-2 text-sm" variant="transparent" target="_blank" rel="noopener"><svg class="h-6 w-6 stroke-current" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.643 13.346L4.26862 4.86856C3.85863 4.32329 4.2478 3.54408 4.93001 3.54431L7.2184 3.54508C7.47633 3.54517 7.71945 3.66557 7.87585 3.87066L12.9065 10.4675M10.643 13.346L5.19311 20.5093M10.643 13.346L15.8028 20.077C15.9588 20.2805 16.2003 20.4001 16.4567 20.4009L18.7925 20.4082C19.4778 20.4104 19.8683 19.6261 19.4536 19.0805L12.9065 10.4675M12.9065 10.4675L18.2181 3.50928" stroke-width="1.5" stroke-linecap="round"></path></svg></a><a href="http://www.reddit.com/submit?title=How%20to%20Easily%20Attach%20EFS%20to%20Your%20EC2%20Instance&amp;selftext=true&amp;text=%20https%3A%2F%2Fmegbanj.hashnode.dev%2Fhow-to-easily-attach-efs-to-your-ec2-instance" class="rounded-full border border-transparent py-1 font-medium hover:bg-slate-200 disabled:opacity-50 hover:dark:bg-slate-700 flex flex-row items-center focus:outline-none px-2 text-sm text-red-600 dark:text-red-600" variant="transparent" target="_blank" rel="noopener"><svg class="h-6 w-6 fill-current" viewBox="0 0 512 512"><path d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"></path></svg></a><button class="rounded-full border border-transparent py-1 font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-200 disabled:opacity-50 hover:dark:bg-slate-700 flex flex-row items-center focus:outline-none px-2 text-sm" type="button" variant="transparent" data-clipboard-text=" https://megbanj.hashnode.dev/how-to-easily-attach-efs-to-your-ec2-instance" id="text-sharer"><svg class="h-6 w-6 fill-current" viewBox="0 0 384 512"><path d="M336 64h-88.6c.4-2.6.6-5.3.6-8 0-30.9-25.1-56-56-56s-56 25.1-56 56c0 2.7.2 5.4.6 8H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 32c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm160 432c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h48v20c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12V96h48c8.8 0 16 7.2 16 16z"></path></svg></button></div></div><div class="container relative z-20 mx-auto grid grid-flow-row grid-cols-8 xl:gap-6 2xl:grid-cols-10"><div class="blog-comments-section-wrapper col-span-8 px-4 lg:col-span-6 lg:col-start-2 lg:px-0 xl:col-span-6 xl:col-start-2 2xl:col-span-6 2xl:col-start-3"></div></div></article></main></div></div></div><script type="text/javascript">
              var SUPPORTS_PASSIVE = false;
              try {
                var opts = Object.defineProperty({}, 'passive', {
                  get: function() {
                    SUPPORTS_PASSIVE = true;
                  }
                });
                window.addEventListener("testPassive", null, opts);
                window.removeEventListener("testPassive", null, opts);
              } catch (e) {}
            </script><script type="text/javascript">
              // Array.prototype.flat polyfill
              if (!Array.prototype.flat) {
                // eslint-disable-next-line no-extend-native
                Object.defineProperty(Array.prototype, 'flat', {
                  configurable: true,
                  writable: true,
                  value() {
                    // eslint-disable-next-line prefer-rest-params
                    const depth = typeof arguments[0] === 'undefined' ? 1 : Number(arguments[0]) || 0;
                    const result = [];
                    const { forEach } = result;

                    // eslint-disable-next-line no-var
                    var flatDeep = function (arr, depth) {
                      forEach.call(arr, (val) => {
                        if (depth > 0 && Array.isArray(val)) {
                          flatDeep(val, depth - 1);
                        } else {
                          result.push(val);
                        }
                      });
                    };

                    flatDeep(this, depth);
                    return result;
                  },
                });
              }
            </script><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":"{\"_id\":\"67b7ccf1d40823de9b451072\",\"partOfPublication\":true,\"author\":{\"_id\":\"677ee106fefedc24fee40ced\",\"name\":\"Ms. B\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png\",\"username\":\"MegBanj\",\"bio\":\"\u003cp\u003eHi, I'm a tech enthusiast who has decided to document her cloud journey as the day goes by. Stay tuned and follow me through this journey which I believe would be a wonderful experience.\u003c/p\u003e\\n\u003cp\u003eI'm also a team player who loves collaborating with others to create innovative solutions.\u003c/p\u003e\\n\",\"socialMedia\":{\"website\":\"\",\"github\":\"https://github.com/MegBanj001\",\"twitter\":\"\",\"facebook\":\"\",\"stackoverflow\":\"\",\"linkedin\":\"https://www.linkedin.com/in/magdalene-banj\"},\"isDeactivated\":false},\"bookmarkedIn\":[],\"publication\":{\"_id\":\"677f1bb695ed9f78a029d211\",\"author\":{\"_id\":\"677ee106fefedc24fee40ced\",\"name\":\"Ms. B\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png\",\"username\":\"MegBanj\"},\"badgePageEnabled\":true,\"description\":\"\",\"domain\":\"\",\"domainStatus\":{},\"wwwPrefixedDomainStatus\":{},\"customCSSEnabled\":false,\"customCSSPublished\":{\"homeMin\":\"\",\"postMin\":\"\",\"staticMin\":\"\"},\"customRules\":[],\"darkModeEnabled\":false,\"darkModeLogo\":\"\",\"disableFooterBranding\":false,\"isSubscriptionModalDisabled\":false,\"publicMembersCount\":1,\"displayTitle\":\"\",\"favicon\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736383408254/0c3463f6-9173-49e3-ac1b-cdec58694967.jpeg\",\"gaTrackingID\":\"\",\"gTagManagerID\":\"\",\"hasBadges\":false,\"headerColor\":\"\",\"hideMembersPage\":false,\"isTeam\":true,\"layout\":\"stacked\",\"membersPageEnabled\":true,\"menu\":[],\"metaHTML\":\"\",\"metaHTMLSanitized\":\"\",\"newsletterEnabled\":true,\"proTeamEnabled\":false,\"newsletterPageEnabled\":false,\"ogImage\":\"\",\"logo\":\"\",\"textSelectionSharerEnabled\":true,\"title\":\"MegBanj's Cloud Experience\",\"urlPattern\":\"simple\",\"username\":\"megbanj\",\"viewCountVisible\":true,\"readTimeHidden\":false,\"links\":{\"twitter\":\"\",\"instagram\":\"\",\"github\":\"\",\"website\":\"\",\"hashnode\":\"\",\"youtube\":\"\",\"dailydev\":\"\",\"linkedin\":\"\",\"mastodon\":\"\",\"facebook\":\"\"},\"numPosts\":6,\"sponsorship\":{\"content\":\"\",\"contentMarkdown\":\"\"},\"allowContributorEdits\":true,\"allowCrawlingByGPT\":false},\"tags\":[{\"_id\":\"62bbe9f257496ff2aa455861\",\"slug\":\"efs\",\"name\":\"EFS\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"5708ff9c115103c3b09782d7\",\"slug\":\"storage\",\"name\":\"storage\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"56744721958ef13879b94a18\",\"slug\":\"ec2\",\"name\":\"ec2\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"643d794da75bf124a0b6aad8\",\"slug\":\"ec2-instance\",\"name\":\"EC2 instance\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"633c14343851feab268a46a9\",\"slug\":\"mount\",\"name\":\"mount\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"6380d7361e50d717cb911726\",\"slug\":\"securitygroups\",\"name\":\"securitygroups\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"59d734b88109ada408d200e0\",\"slug\":\"connect\",\"name\":\"connect\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"57f158af4ed9193df77de41e\",\"slug\":\"amazon-ec2\",\"name\":\"Amazon EC2\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"62bbe9f257496ff2aa455862\",\"slug\":\"amazon-efs\",\"name\":\"Amazon EFS\",\"isActive\":true,\"isApproved\":true}],\"coAuthors\":[],\"responseCount\":1,\"replyCount\":0,\"contentMarkdown\":\"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\\n\\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve into giving you the steps, let me briefly give an explanation of what EFS is.\\n\\nThis is an architectural design to explain the process for your understanding.\\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740087532547/925a25ff-bb66-4774-8061-e0acc52b9494.png align=\\\"center\\\")\\n\\nAmazon Elastic File System (Amazon EFS) is a file storage service that can be used with Amazon compute (Amazon EC2, Amazon ECS, Amazon EKS, AWS Lambda, and AWS Fargate, containers, serverless) and on-premises servers. It provides a file system interface, file system access and concurrently accessible storage for up to thousands of EC2 instances.\\n\\nIt is built to scale on demand without disrupting applications, growing and shrinking automatically as you add and remove files which makes it highly scalable, highly available, and highly durable. You can share data without provisioning or managing storage capacity and performance and you can also create and configure file systems quickly and easily.\\n\\nAmazon EFS offers the different file system types, performance and throughput modes to meet your availability and durability needs.\\n\\nAmazon EFS supports the Network File System version 4 (NFSv4.1 and NFSv4.0) protocol.\\n\\nAmazon EFS supports authentication, authorization, and encryption capabilities to help you meet your security and compliance requirements. Amazon EFS supports two forms of encryption for file systems: \u003cmark\u003eencryption in transit and encryption at rest\u003c/mark\u003e. You can enable encryption at rest when creating an Amazon EFS file system. If you do, \u003cmark\u003eall of your data and metadata is encrypted\u003c/mark\u003e. You can enable encryption in transit when you mount the file system.\\n\\nNow that I have given a brief summary of what an Amazon EFS is and its attributes, let’s get started.\\n\\nWe would need to create the following resources on AWS to help us achieve what we want:\\n\\na. An AWS account\\n\\nb. Amazon EFS\\n\\nc. Multiple instances (I would be creating 2 instances)\\n\\nd. Security Group\\n\\n\u003cmark\u003eA.\u003c/mark\u003e You need an AWS account to get started. This link would help you create an AWS account. [https://signin.aws.amazon.com/signup?request\\\\_type=register](https://signin.aws.amazon.com/signup?request_type=register). After creating an account, that account becomes the Root user. You can go ahead and create a user under the IAM.\\n\\nIf you already have an existing account, go to [https://aws.amazon.com](https://aws.amazon.com), and sign into the console.\\n\\n### **\u003cmark\u003eB. CREATING THE AMAZON EFS\u003c/mark\u003e**\\n\\n1. Type EFS in the search bar and click on it.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740064869569/3de09a76-a04c-42b2-a71c-af398c324cda.png align=\\\"center\\\")\\n\\n2. Click **CREATE FILE SYSTEM**\\n    \\n3. \u003cmark\u003eName:\u003c/mark\u003e Give a unique name for your EFS File System.\\n    \\n    \u003cmark\u003eVirtual Private Cloud:\u003c/mark\u003e This is created automatically with the EFS.\\n    \\n\\nAfter you have given the EFS a name, select **Customize**.\\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065040291/8441eebe-b390-4749-99f1-143879a38108.png align=\\\"center\\\")\\n\\n4. Under customize, there are 4 steps. You can leave Step 1 and 2 in its default state and move to Step 3.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065273532/1f80be22-1003-4e30-a28b-9adb1eb76868.png align=\\\"center\\\")\\n\\n5. Step 3 covers the policy options. I checked the encryption in-transit.\\n    \\n    **\u003cmark\u003eEncryption in-transit\u003c/mark\u003e** is a process of protecting data while it is being transferred between two points in a network.\\n    \\n6. Select **Create.**\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065475238/0cd4271a-ddc6-4613-8cb1-d6ccca8ba3e3.png align=\\\"center\\\")\\n\\n7. The EFS has be successfully created as shown in diagram below.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066328963/7b2f25cf-2fa1-4c96-a21e-26cd1185e201.png align=\\\"center\\\")\\n\\n### **\u003cmark\u003eC. CREATING OUR EC2 INSTANCES\u003c/mark\u003e**\\n\\n1. Type EC2 in the search bar and click on it.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066524564/ddbae823-125e-4d97-bbee-9799b50bface.png align=\\\"center\\\")\\n    \\n2. Next, select **Launch Instance.**\\n    \\n3. \u003cmark\u003eName:\u003c/mark\u003e Give a unique name to your EC2 instance.\\n    \\n    \u003cmark\u003eApplication and OS Images (AMI):\u003c/mark\u003e Choose **Amazon Linux**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066690474/01d740fb-e15b-406e-a235-aaa3a9d3880a.png align=\\\"center\\\")\\n\\n4. **\u003cmark\u003eDescription\u003c/mark\u003e**: I left it as default\\n    \\n    **\u003cmark\u003eInstance type:\u003c/mark\u003e** I chose **t2 micro**. You can choose any other instance type under the free tier eligible.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066874989/c171f03e-df18-487b-843b-1637198abe00.png align=\\\"center\\\")\\n\\n5. **\u003cmark\u003eKey pair:\u003c/mark\u003e** I chose to **create a key pair**, but you can **Proceed without key pair**.\\n    \\n    If you choose Proceed without key pair, it takes you to the next stage.\\n    \\n    If you choose to create a key pair, the diagram attached shows you what to do.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740067159957/f7b7eb9c-455b-4948-9706-cba8d44fcabf.png align=\\\"center\\\")\\n\\n6. Under Network settings, click **Edit.** The VPC that was automatically created by AWS for the EFS becomes the default VPC. Leave every part as default and move to **Firewall (security groups)**.\\n    \\n    Select **Create security group** and give it a unique name. You can also give it a description by describing what the security group is for.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740067413922/446b1695-3601-4bd8-beaa-791ee5799acd.png align=\\\"center\\\")\\n\\n7. You can leave every other selection in their default state and proceed to **\u003cmark\u003eLaunch Instance\u003c/mark\u003e**.\\n    \\n8. At this point, the instance is successfully launched.\\n    \\n    Follow same steps and create the second instance.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078532058/99062a7c-bb22-46bd-92e9-45b115a482c7.png align=\\\"center\\\")\\n    \\n9. After the second instance is successfully launched, this is what you would be having.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078618235/b4104873-e918-4a63-8d57-5bc93822bb77.png align=\\\"center\\\")\\n\\n### **\u003cmark\u003eD. CONFIGURING THE RULES IN THE SECURITY GROUP\u003c/mark\u003e**\\n\\n1. After the launching of instances, we need to edit the rules for the security group to enable the EC2 instances communicate with the EFS by allowing traffic from port 2049.\\n    \\n    For this to be effected, go to **Network \u0026 Security** and click **\u003cmark\u003eSecurity Groups\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078813337/b163790d-e3b5-4d24-aef8-cd8017d80e21.png align=\\\"center\\\")\\n\\n2. The security group tab shows you all the security groups created.\\n    \\n    **\u003cmark\u003eDefault\u003c/mark\u003e** was created for the EFS automatically while the EFS was being configured.\\n    \\n    **\u003cmark\u003eSG_Machine1\u003c/mark\u003e** was created when I was launching the first EC2 instance.\\n    \\n    **\u003cmark\u003eSG_Machine2\u003c/mark\u003e** was created when I was launching the second EC2 instance.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079074214/50b5b986-ab7e-42f6-9e78-bd28499a7a42.png align=\\\"center\\\")\\n\\n3. Select the **default** security group, and click **\u003cmark\u003eEdit Inbound Rule\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079339061/30225a03-df3f-46af-9379-8da6789d3794.png align=\\\"center\\\")\\n\\n4. Click **Add Rule**.\\n    \\n    Under Type, Click the drop-down arrow and select **\u003cmark\u003eNFS\u003c/mark\u003e**. Also, select the security group created for that particular instance as shown in the diagram.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079458775/b4b65e97-3c7c-4857-9885-0e2db39611c1.png align=\\\"center\\\")\\n\\n5. Repeat same process above for the second instance also. Make sure to select the correct security group for the instance.\\n    \\n    Next, select **\u003cmark\u003eSave Rules\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079945983/d7473b87-3425-472f-8d21-720192924b80.png align=\\\"center\\\")\\n\\n6. The inbound rules on the default security group should look this way after editing.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080099403/8725ec57-bea1-47b7-ad0f-8cf0f53595ba.png align=\\\"center\\\")\\n\\n### **\u003cmark\u003eE. MOUNTING THE EFS AND CONNECTING THE EC2 INSTANCES TO THE EFS\u003c/mark\u003e**\\n\\n1. At this stage, I went back to my instance and selected one of my instances and clicked **\u003cmark\u003eConnect\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080438556/e46f99ba-73b5-42a6-9b79-d396bed152cc.png align=\\\"center\\\")\\n\\n2. I would be selecting **SSH Client** for my connection because I have a keypair which I generated for my connection.\\n    \\n    You can visit [Quick Guide to Deploying a Linux EC2 Instance on AWS](https://megbanj.hashnode.dev/quick-guide-to-deploying-a-linux-ec2-instance-on-aws) to see how you can connect to your EC2 instance by using keypair.\\n    \\n3. Below is a view of what you would see on your **command prompt** or **terminal** once the instance is connected.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080827733/ef22fd82-c11f-4839-83df-a68f221f7b61.png align=\\\"center\\\")\\n\\n4. I installed the Amazon EFS utilities using the command `sudo dnf install -y amazon-efs-utils`\\n    \\n    When installation is complete, you would see the information below\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740093348647/13fcb74f-1383-42d9-b2d7-262ceccfb194.png align=\\\"center\\\")\\n\\n5. Next, let’s create a directory by using the command `sudo mkdir (directory name)`**.** I named my directory **efs**.\\n    \\n6. a. Return to the EFS on your console, Click on **\u003cmark\u003eAttach\u003c/mark\u003e**.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740093936322/4660467d-3b35-4c2f-af9f-fd136485f0a3.png align=\\\"center\\\")\\n    \\n    6. b. Copy the mount command using the **\u003cmark\u003eEFS mount helper.\u003c/mark\u003e**\\n        \\n7. ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740097665820/6d51b56d-3736-4917-a1a6-80b4e77704b1.png align=\\\"center\\\")\\n    \\n    Return to your command prompt or terminal and paste the **\u003cmark\u003eEFS mount helper command\u003c/mark\u003e** which you just copied. Run the command.\\n    \\n8. To confirm that you have successfully mounted the EFS, run the `df -T` command.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740094254932/e4d13839-6d73-49e2-a180-a56488fa8c42.png align=\\\"center\\\")\\n\\n9. You can run the `ls -l` command to see the permissions on the file.\\n    \\n    As you can see in the diagram, the ownership of the **\u003cmark\u003eefs\u003c/mark\u003e** directory is the **\u003cmark\u003eroot\u003c/mark\u003e** which does not give me the permission to execute any command as the **\u003cmark\u003euser.\u003c/mark\u003e** For me to get the permission, I used `sudo chown` command.\\n    \\n    I typed `sudo chown ec2-user efs/.` You would see that the change of ownership was done immediately I ran the chown command.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740094453749/0d0d9b9a-d64b-4127-8eef-1517923f3309.png align=\\\"center\\\")\\n    \\n    10. Type `cd` **\u003cmark\u003e(directory name)\u003c/mark\u003e** to get into your directory.\\n        \\n        Next, you can create or put any type of files inside the directory. To create a file, use the `touch` **\u003cmark\u003ecommand + filename\u003c/mark\u003e**. I created a file named **Dragonfly** and also dropped a **WordPress document** in the directory.\\n        \\n        Afterwards, I ran the `ls` command to confirm the files I have in my directory as seen below.\\n        \\n        ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095244108/7d4703c3-131c-46e8-8761-8e972f29753a.png align=\\\"center\\\")\\n        \\n        ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095253812/89814bde-4fac-4dee-9bad-2fdb40b52ef2.png align=\\\"center\\\")\\n        \\n    11. Now, let’s connect the second instance and see if we can view the same files in the directory that has been mounted on the EFS by the first EC2 instance.\\n        \\n    12. Type the same commands as you did when you connected the previous EC2 instance.\\n        \\n        * `sudo dnf install -y amazon-efs-utils`\\n            \\n        * make directory (give it the same name as the one in the previous EC2 instance).\\n            \\n        * sudo mount (using the EFS mount finder)\\n            \\n        * `df -T`\\n            \\n            From the diagram below, you would notice the EFS has been mounted.\\n            \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095830974/7d638266-6236-418e-b427-e181d34ebe00.png align=\\\"center\\\")\\n\\n13. Enter your directory by using cd command\\n    \\n    * cd (directory name)\\n        \\n        When you are in the directory, type the `ls` command to give you a list of the files in the directory. Remember you don’t need to create any file in this instance anymore. Since you have successfully mounted the EFS on the second instance, you would be able to see whatever files has been saved in the EFS.\\n        \\n14. Notice how **\u003cmark\u003eInstance 2\u003c/mark\u003e** can see the same files that **\u003cmark\u003eInstance 1\u003c/mark\u003e** created and saved on the EFS.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740096931090/22480733-fe47-43da-98c4-8c0530811bd3.png align=\\\"center\\\")\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740096941432/dcae3206-616f-4ff8-8841-b060f6551a0a.png align=\\\"center\\\")\\n    \\n    I hope I have been able to help someone out through the process and believe that you enjoyed putting the process together to achieve your result.\\n    \\n\\nThank you for stopping by and look forward to dropping another piece for your enlightenment.\\n\\nKindly drop a comment, like and share.\",\"content\":\"\u003cp\u003eWelcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\u003c/p\u003e\\n\u003cp\u003eToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve into giving you the steps, let me briefly give an explanation of what EFS is.\u003c/p\u003e\\n\u003cp\u003eThis is an architectural design to explain the process for your understanding.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740087532547/925a25ff-bb66-4774-8061-e0acc52b9494.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003eAmazon Elastic File System (Amazon EFS) is a file storage service that can be used with Amazon compute (Amazon EC2, Amazon ECS, Amazon EKS, AWS Lambda, and AWS Fargate, containers, serverless) and on-premises servers. It provides a file system interface, file system access and concurrently accessible storage for up to thousands of EC2 instances.\u003c/p\u003e\\n\u003cp\u003eIt is built to scale on demand without disrupting applications, growing and shrinking automatically as you add and remove files which makes it highly scalable, highly available, and highly durable. You can share data without provisioning or managing storage capacity and performance and you can also create and configure file systems quickly and easily.\u003c/p\u003e\\n\u003cp\u003eAmazon EFS offers the different file system types, performance and throughput modes to meet your availability and durability needs.\u003c/p\u003e\\n\u003cp\u003eAmazon EFS supports the Network File System version 4 (NFSv4.1 and NFSv4.0) protocol.\u003c/p\u003e\\n\u003cp\u003eAmazon EFS supports authentication, authorization, and encryption capabilities to help you meet your security and compliance requirements. Amazon EFS supports two forms of encryption for file systems: \u003cmark\u003eencryption in transit and encryption at rest\u003c/mark\u003e. You can enable encryption at rest when creating an Amazon EFS file system. If you do, \u003cmark\u003eall of your data and metadata is encrypted\u003c/mark\u003e. You can enable encryption in transit when you mount the file system.\u003c/p\u003e\\n\u003cp\u003eNow that I have given a brief summary of what an Amazon EFS is and its attributes, let’s get started.\u003c/p\u003e\\n\u003cp\u003eWe would need to create the following resources on AWS to help us achieve what we want:\u003c/p\u003e\\n\u003cp\u003ea. An AWS account\u003c/p\u003e\\n\u003cp\u003eb. Amazon EFS\u003c/p\u003e\\n\u003cp\u003ec. Multiple instances (I would be creating 2 instances)\u003c/p\u003e\\n\u003cp\u003ed. Security Group\u003c/p\u003e\\n\u003cp\u003e\u003cmark\u003eA.\u003c/mark\u003e You need an AWS account to get started. This link would help you create an AWS account. \u003ca target=\\\"_blank\\\" href=\\\"https://signin.aws.amazon.com/signup?request_type=register\\\"\u003ehttps://signin.aws.amazon.com/signup?request_type=register\u003c/a\u003e. After creating an account, that account becomes the Root user. You can go ahead and create a user under the IAM.\u003c/p\u003e\\n\u003cp\u003eIf you already have an existing account, go to \u003ca target=\\\"_blank\\\" href=\\\"https://aws.amazon.com\\\"\u003ehttps://aws.amazon.com\u003c/a\u003e, and sign into the console.\u003c/p\u003e\\n\u003ch3 id=\\\"heading-b-creating-the-amazon-efs\\\"\u003e\u003cstrong\u003e\u003cmark\u003eB. CREATING THE AMAZON EFS\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003eType EFS in the search bar and click on it.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740064869569/3de09a76-a04c-42b2-a71c-af398c324cda.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e\u003cp\u003eClick \u003cstrong\u003eCREATE FILE SYSTEM\u003c/strong\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003cmark\u003eName:\u003c/mark\u003e Give a unique name for your EFS File System.\u003c/p\u003e\\n\u003cp\u003e \u003cmark\u003eVirtual Private Cloud:\u003c/mark\u003e This is created automatically with the EFS.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003eAfter you have given the EFS a name, select \u003cstrong\u003eCustomize\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065040291/8441eebe-b390-4749-99f1-143879a38108.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003eUnder customize, there are 4 steps. You can leave Step 1 and 2 in its default state and move to Step 3.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065273532/1f80be22-1003-4e30-a28b-9adb1eb76868.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003eStep 3 covers the policy options. I checked the encryption in-transit.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eEncryption in-transit\u003c/mark\u003e\u003c/strong\u003e is a process of protecting data while it is being transferred between two points in a network.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eSelect \u003cstrong\u003eCreate.\u003c/strong\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065475238/0cd4271a-ddc6-4613-8cb1-d6ccca8ba3e3.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"7\\\"\u003e\\n\u003cli\u003eThe EFS has be successfully created as shown in diagram below.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066328963/7b2f25cf-2fa1-4c96-a21e-26cd1185e201.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003ch3 id=\\\"heading-c-creating-our-ec2-instances\\\"\u003e\u003cstrong\u003e\u003cmark\u003eC. CREATING OUR EC2 INSTANCES\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003e\u003cp\u003eType EC2 in the search bar and click on it.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066524564/ddbae823-125e-4d97-bbee-9799b50bface.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eNext, select \u003cstrong\u003eLaunch Instance.\u003c/strong\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003cmark\u003eName:\u003c/mark\u003e Give a unique name to your EC2 instance.\u003c/p\u003e\\n\u003cp\u003e \u003cmark\u003eApplication and OS Images (AMI):\u003c/mark\u003e Choose \u003cstrong\u003eAmazon Linux\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066690474/01d740fb-e15b-406e-a235-aaa3a9d3880a.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003e\u003cmark\u003eDescription\u003c/mark\u003e\u003c/strong\u003e: I left it as default\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eInstance type:\u003c/mark\u003e\u003c/strong\u003e I chose \u003cstrong\u003et2 micro\u003c/strong\u003e. You can choose any other instance type under the free tier eligible.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066874989/c171f03e-df18-487b-843b-1637198abe00.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003e\u003cmark\u003eKey pair:\u003c/mark\u003e\u003c/strong\u003e I chose to \u003cstrong\u003ecreate a key pair\u003c/strong\u003e, but you can \u003cstrong\u003eProceed without key pair\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e If you choose Proceed without key pair, it takes you to the next stage.\u003c/p\u003e\\n\u003cp\u003e If you choose to create a key pair, the diagram attached shows you what to do.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740067159957/f7b7eb9c-455b-4948-9706-cba8d44fcabf.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"6\\\"\u003e\\n\u003cli\u003e\u003cp\u003eUnder Network settings, click \u003cstrong\u003eEdit.\u003c/strong\u003e The VPC that was automatically created by AWS for the EFS becomes the default VPC. Leave every part as default and move to \u003cstrong\u003eFirewall (security groups)\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e Select \u003cstrong\u003eCreate security group\u003c/strong\u003e and give it a unique name. You can also give it a description by describing what the security group is for.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740067413922/446b1695-3601-4bd8-beaa-791ee5799acd.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"7\\\"\u003e\\n\u003cli\u003e\u003cp\u003eYou can leave every other selection in their default state and proceed to \u003cstrong\u003e\u003cmark\u003eLaunch Instance\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eAt this point, the instance is successfully launched.\u003c/p\u003e\\n\u003cp\u003e Follow same steps and create the second instance.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078532058/99062a7c-bb22-46bd-92e9-45b115a482c7.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eAfter the second instance is successfully launched, this is what you would be having.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078618235/b4104873-e918-4a63-8d57-5bc93822bb77.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003ch3 id=\\\"heading-d-configuring-the-rules-in-the-security-group\\\"\u003e\u003cstrong\u003e\u003cmark\u003eD. CONFIGURING THE RULES IN THE SECURITY GROUP\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003e\u003cp\u003eAfter the launching of instances, we need to edit the rules for the security group to enable the EC2 instances communicate with the EFS by allowing traffic from port 2049.\u003c/p\u003e\\n\u003cp\u003e For this to be effected, go to \u003cstrong\u003eNetwork \u0026amp; Security\u003c/strong\u003e and click \u003cstrong\u003e\u003cmark\u003eSecurity Groups\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078813337/b163790d-e3b5-4d24-aef8-cd8017d80e21.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e\u003cp\u003eThe security group tab shows you all the security groups created.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eDefault\u003c/mark\u003e\u003c/strong\u003e was created for the EFS automatically while the EFS was being configured.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eSG_Machine1\u003c/mark\u003e\u003c/strong\u003e was created when I was launching the first EC2 instance.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eSG_Machine2\u003c/mark\u003e\u003c/strong\u003e was created when I was launching the second EC2 instance.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079074214/50b5b986-ab7e-42f6-9e78-bd28499a7a42.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"3\\\"\u003e\\n\u003cli\u003eSelect the \u003cstrong\u003edefault\u003c/strong\u003e security group, and click \u003cstrong\u003e\u003cmark\u003eEdit Inbound Rule\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079339061/30225a03-df3f-46af-9379-8da6789d3794.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003e\u003cp\u003eClick \u003cstrong\u003eAdd Rule\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e Under Type, Click the drop-down arrow and select \u003cstrong\u003e\u003cmark\u003eNFS\u003c/mark\u003e\u003c/strong\u003e. Also, select the security group created for that particular instance as shown in the diagram.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079458775/b4b65e97-3c7c-4857-9885-0e2db39611c1.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003eRepeat same process above for the second instance also. Make sure to select the correct security group for the instance.\u003c/p\u003e\\n\u003cp\u003e Next, select \u003cstrong\u003e\u003cmark\u003eSave Rules\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079945983/d7473b87-3425-472f-8d21-720192924b80.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"6\\\"\u003e\\n\u003cli\u003eThe inbound rules on the default security group should look this way after editing.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080099403/8725ec57-bea1-47b7-ad0f-8cf0f53595ba.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003ch3 id=\\\"heading-e-mounting-the-efs-and-connecting-the-ec2-instances-to-the-efs\\\"\u003e\u003cstrong\u003e\u003cmark\u003eE. MOUNTING THE EFS AND CONNECTING THE EC2 INSTANCES TO THE EFS\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003eAt this stage, I went back to my instance and selected one of my instances and clicked \u003cstrong\u003e\u003cmark\u003eConnect\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080438556/e46f99ba-73b5-42a6-9b79-d396bed152cc.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e\u003cp\u003eI would be selecting \u003cstrong\u003eSSH Client\u003c/strong\u003e for my connection because I have a keypair which I generated for my connection.\u003c/p\u003e\\n\u003cp\u003e You can visit \u003ca target=\\\"_blank\\\" href=\\\"https://megbanj.hashnode.dev/quick-guide-to-deploying-a-linux-ec2-instance-on-aws\\\"\u003eQuick Guide to Deploying a Linux EC2 Instance on AWS\u003c/a\u003e to see how you can connect to your EC2 instance by using keypair.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eBelow is a view of what you would see on your \u003cstrong\u003ecommand prompt\u003c/strong\u003e or \u003cstrong\u003eterminal\u003c/strong\u003e once the instance is connected.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080827733/ef22fd82-c11f-4839-83df-a68f221f7b61.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003e\u003cp\u003eI installed the Amazon EFS utilities using the command \u003ccode\u003esudo dnf install -y amazon-efs-utils\u003c/code\u003e\u003c/p\u003e\\n\u003cp\u003e When installation is complete, you would see the information below\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740093348647/13fcb74f-1383-42d9-b2d7-262ceccfb194.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003eNext, let’s create a directory by using the command \u003ccode\u003esudo mkdir (directory name)\u003c/code\u003e\u003cstrong\u003e.\u003c/strong\u003e I named my directory \u003cstrong\u003eefs\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003ea. Return to the EFS on your console, Click on \u003cstrong\u003e\u003cmark\u003eAttach\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740093936322/4660467d-3b35-4c2f-af9f-fd136485f0a3.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"6\\\"\u003e\\n\u003cli\u003eb. Copy the mount command using the \u003cstrong\u003e\u003cmark\u003eEFS mount helper.\u003c/mark\u003e\u003c/strong\u003e\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740097665820/6d51b56d-3736-4917-a1a6-80b4e77704b1.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003e Return to your command prompt or terminal and paste the \u003cstrong\u003e\u003cmark\u003eEFS mount helper command\u003c/mark\u003e\u003c/strong\u003e which you just copied. Run the command.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eTo confirm that you have successfully mounted the EFS, run the \u003ccode\u003edf -T\u003c/code\u003e command.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740094254932/e4d13839-6d73-49e2-a180-a56488fa8c42.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"9\\\"\u003e\\n\u003cli\u003e\u003cp\u003eYou can run the \u003ccode\u003els -l\u003c/code\u003e command to see the permissions on the file.\u003c/p\u003e\\n\u003cp\u003e As you can see in the diagram, the ownership of the \u003cstrong\u003e\u003cmark\u003eefs\u003c/mark\u003e\u003c/strong\u003e directory is the \u003cstrong\u003e\u003cmark\u003eroot\u003c/mark\u003e\u003c/strong\u003e which does not give me the permission to execute any command as the \u003cstrong\u003e\u003cmark\u003euser.\u003c/mark\u003e\u003c/strong\u003e For me to get the permission, I used \u003ccode\u003esudo chown\u003c/code\u003e command.\u003c/p\u003e\\n\u003cp\u003e I typed \u003ccode\u003esudo chown ec2-user efs/.\u003c/code\u003e You would see that the change of ownership was done immediately I ran the chown command.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740094453749/0d0d9b9a-d64b-4127-8eef-1517923f3309.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"10\\\"\u003e\\n\u003cli\u003e\u003cp\u003eType \u003ccode\u003ecd\u003c/code\u003e \u003cstrong\u003e\u003cmark\u003e(directory name)\u003c/mark\u003e\u003c/strong\u003e to get into your directory.\u003c/p\u003e\\n\u003cp\u003eNext, you can create or put any type of files inside the directory. To create a file, use the \u003ccode\u003etouch\u003c/code\u003e \u003cstrong\u003e\u003cmark\u003ecommand + filename\u003c/mark\u003e\u003c/strong\u003e. I created a file named \u003cstrong\u003eDragonfly\u003c/strong\u003e and also dropped a \u003cstrong\u003eWordPress document\u003c/strong\u003e in the directory.\u003c/p\u003e\\n\u003cp\u003eAfterwards, I ran the \u003ccode\u003els\u003c/code\u003e command to confirm the files I have in my directory as seen below.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095244108/7d4703c3-131c-46e8-8761-8e972f29753a.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095253812/89814bde-4fac-4dee-9bad-2fdb40b52ef2.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eNow, let’s connect the second instance and see if we can view the same files in the directory that has been mounted on the EFS by the first EC2 instance.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eType the same commands as you did when you connected the previous EC2 instance.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003cp\u003e\u003ccode\u003esudo dnf install -y amazon-efs-utils\u003c/code\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003emake directory (give it the same name as the one in the previous EC2 instance).\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003esudo mount (using the EFS mount finder)\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003ccode\u003edf -T\u003c/code\u003e\u003c/p\u003e\\n\u003cp\u003e  From the diagram below, you would notice the EFS has been mounted.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095830974/7d638266-6236-418e-b427-e181d34ebe00.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"13\\\"\u003e\\n\u003cli\u003e\u003cp\u003eEnter your directory by using cd command\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003cp\u003ecd (directory name)\u003c/p\u003e\\n\u003cp\u003e  When you are in the directory, type the \u003ccode\u003els\u003c/code\u003e command to give you a list of the files in the directory. Remember you don’t need to create any file in this instance anymore. Since you have successfully mounted the EFS on the second instance, you would be able to see whatever files has been saved in the EFS.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eNotice how \u003cstrong\u003e\u003cmark\u003eInstance 2\u003c/mark\u003e\u003c/strong\u003e can see the same files that \u003cstrong\u003e\u003cmark\u003eInstance 1\u003c/mark\u003e\u003c/strong\u003e created and saved on the EFS.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740096931090/22480733-fe47-43da-98c4-8c0530811bd3.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740096941432/dcae3206-616f-4ff8-8841-b060f6551a0a.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003eI hope I have been able to help someone out through the process and believe that you enjoyed putting the process together to achieve your result.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003eThank you for stopping by and look forward to dropping another piece for your enlightenment.\u003c/p\u003e\\n\u003cp\u003eKindly drop a comment, like and share.\u003c/p\u003e\\n\",\"cuid\":\"cm7e1wcck000009jm2pp7dglb\",\"views\":189,\"title\":\"How to Easily Attach EFS to Your EC2 Instance\",\"slug\":\"how-to-easily-attach-efs-to-your-ec2-instance\",\"dateAdded\":\"2025-02-21T00:46:41.540Z\",\"dateUpdated\":\"2025-02-27T14:46:10.803Z\",\"type\":\"story\",\"coverImage\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png\",\"isCoverImagePortrait\":false,\"isCoverAttributionHidden\":false,\"brief\":\"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve...\",\"isFollowing\":false,\"totalReactions\":2,\"totalReactionsByCurrentUser\":0,\"series\":null,\"isPinnedToBlog\":false,\"readTime\":7,\"sB\":false,\"isAMA\":false,\"subtitle\":\"\",\"isPartOfSeries\":false,\"hasTags\":true,\"ogImage\":\"\",\"metaTitle\":\"\",\"metaDescription\":\"\",\"isRepublished\":false,\"autoPublishedFromRSS\":false,\"responses\":[],\"isFeatured\":false,\"hasLatex\":false,\"stickCoverToBottom\":false,\"hideBadges\":false,\"badges\":[],\"isDelisted\":false,\"audioUrls\":{},\"disableComments\":false,\"enableToc\":false,\"toc\":[],\"noIndex\":false}","publication":"{\"__typename\":\"Publication\",\"id\":\"677f1bb695ed9f78a029d211\",\"url\":\"https://megbanj.hashnode.dev\",\"canonicalURL\":\"https://megbanj.hashnode.dev\",\"urlPattern\":\"SIMPLE\",\"title\":\"MegBanj's Cloud Experience\",\"displayTitle\":null,\"hasBadges\":false,\"descriptionSEO\":null,\"publicMembers\":{\"totalDocuments\":1},\"about\":null,\"features\":{\"proTeam\":{\"isEnabled\":false},\"newsletter\":{\"isEnabled\":true},\"viewCount\":{\"isEnabled\":true},\"readTime\":{\"isEnabled\":true},\"textSelectionSharer\":{\"isEnabled\":true},\"customCSS\":{\"isEnabled\":false,\"published\":null,\"draft\":null},\"gptBotCrawling\":{\"__typename\":\"GPTBotCrawlingFeature\",\"isEnabled\":false}},\"metaTags\":null,\"ogMetaData\":{\"image\":null},\"author\":{\"__typename\":\"User\",\"id\":\"677ee106fefedc24fee40ced\",\"name\":\"Ms. B\",\"username\":\"MegBanj\",\"profilePicture\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png\"},\"preferences\":{\"__typename\":\"Preferences\",\"logo\":null,\"darkMode\":{\"__typename\":\"DarkModePreferences\",\"logo\":null,\"enabled\":false},\"navbarItems\":[],\"enabledPages\":{\"__typename\":\"PagesPreferences\",\"badges\":false,\"newsletter\":true,\"members\":true},\"layout\":\"stacked\",\"disableFooterBranding\":false,\"isSubscriptionModalDisabled\":false},\"favicon\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736383408254/0c3463f6-9173-49e3-ac1b-cdec58694967.jpeg\",\"headerColor\":null,\"integrations\":{\"fbPixelID\":null,\"fathomSiteID\":null,\"fathomCustomDomainEnabled\":null,\"fathomCustomDomain\":null,\"hotjarSiteID\":null,\"matomoSiteID\":null,\"matomoURL\":null,\"gaTrackingID\":null,\"gTagManagerID\":null,\"plausibleAnalyticsEnabled\":null,\"wmPaymentPointer\":null,\"koalaPublicKey\":null,\"msClarityID\":null},\"imprintV2\":null,\"postsCount\":{\"totalDocuments\":6},\"isTeam\":true,\"links\":null,\"domainInfo\":{\"__typename\":\"DomainInfo\",\"hashnodeSubdomain\":\"megbanj\",\"domain\":null,\"wwwPrefixedDomain\":null},\"redirectionRules\":[],\"totalRecommendedPublications\":0,\"sponsorship\":{\"content\":null,\"stripe\":null},\"allowContributorEdits\":true,\"rssImport\":null,\"post\":{\"id\":\"67b7ccf1d40823de9b451072\",\"cuid\":\"cm7e1wcck000009jm2pp7dglb\",\"title\":\"How to Easily Attach EFS to Your EC2 Instance\",\"subtitle\":null,\"slug\":\"how-to-easily-attach-efs-to-your-ec2-instance\",\"brief\":\"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve...\",\"featured\":false,\"publishedAt\":\"2025-02-21T00:46:41.540Z\",\"updatedAt\":\"2025-02-27T14:46:10.803Z\",\"author\":{\"__typename\":\"User\",\"id\":\"677ee106fefedc24fee40ced\",\"name\":\"Ms. B\",\"username\":\"MegBanj\",\"deactivated\":false,\"profilePicture\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png\",\"bio\":{\"html\":\"\u003cp\u003eHi, I'm a tech enthusiast who has decided to document her cloud journey as the day goes by. Stay tuned and follow me through this journey which I believe would be a wonderful experience.\u003c/p\u003e\\n\u003cp\u003eI'm also a team player who loves collaborating with others to create innovative solutions.\u003c/p\u003e\\n\"},\"socialMediaLinks\":{\"website\":\"\",\"github\":\"https://github.com/MegBanj001\",\"twitter\":\"\",\"facebook\":\"\",\"stackoverflow\":\"\",\"linkedin\":\"https://www.linkedin.com/in/magdalene-banj\"}},\"coAuthors\":[],\"seo\":{\"title\":null,\"description\":null,\"shouldNotIndex\":false},\"coverImage\":{\"url\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png\",\"isPortrait\":false,\"attribution\":null,\"isAttributionHidden\":false,\"photographer\":null},\"responseCount\":1,\"reactionCount\":2,\"replyCount\":0,\"content\":{\"html\":\"\u003cp\u003eWelcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\u003c/p\u003e\\n\u003cp\u003eToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve into giving you the steps, let me briefly give an explanation of what EFS is.\u003c/p\u003e\\n\u003cp\u003eThis is an architectural design to explain the process for your understanding.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740087532547/925a25ff-bb66-4774-8061-e0acc52b9494.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003eAmazon Elastic File System (Amazon EFS) is a file storage service that can be used with Amazon compute (Amazon EC2, Amazon ECS, Amazon EKS, AWS Lambda, and AWS Fargate, containers, serverless) and on-premises servers. It provides a file system interface, file system access and concurrently accessible storage for up to thousands of EC2 instances.\u003c/p\u003e\\n\u003cp\u003eIt is built to scale on demand without disrupting applications, growing and shrinking automatically as you add and remove files which makes it highly scalable, highly available, and highly durable. You can share data without provisioning or managing storage capacity and performance and you can also create and configure file systems quickly and easily.\u003c/p\u003e\\n\u003cp\u003eAmazon EFS offers the different file system types, performance and throughput modes to meet your availability and durability needs.\u003c/p\u003e\\n\u003cp\u003eAmazon EFS supports the Network File System version 4 (NFSv4.1 and NFSv4.0) protocol.\u003c/p\u003e\\n\u003cp\u003eAmazon EFS supports authentication, authorization, and encryption capabilities to help you meet your security and compliance requirements. Amazon EFS supports two forms of encryption for file systems: \u003cmark\u003eencryption in transit and encryption at rest\u003c/mark\u003e. You can enable encryption at rest when creating an Amazon EFS file system. If you do, \u003cmark\u003eall of your data and metadata is encrypted\u003c/mark\u003e. You can enable encryption in transit when you mount the file system.\u003c/p\u003e\\n\u003cp\u003eNow that I have given a brief summary of what an Amazon EFS is and its attributes, let’s get started.\u003c/p\u003e\\n\u003cp\u003eWe would need to create the following resources on AWS to help us achieve what we want:\u003c/p\u003e\\n\u003cp\u003ea. An AWS account\u003c/p\u003e\\n\u003cp\u003eb. Amazon EFS\u003c/p\u003e\\n\u003cp\u003ec. Multiple instances (I would be creating 2 instances)\u003c/p\u003e\\n\u003cp\u003ed. Security Group\u003c/p\u003e\\n\u003cp\u003e\u003cmark\u003eA.\u003c/mark\u003e You need an AWS account to get started. This link would help you create an AWS account. \u003ca target=\\\"_blank\\\" href=\\\"https://signin.aws.amazon.com/signup?request_type=register\\\"\u003ehttps://signin.aws.amazon.com/signup?request_type=register\u003c/a\u003e. After creating an account, that account becomes the Root user. You can go ahead and create a user under the IAM.\u003c/p\u003e\\n\u003cp\u003eIf you already have an existing account, go to \u003ca target=\\\"_blank\\\" href=\\\"https://aws.amazon.com\\\"\u003ehttps://aws.amazon.com\u003c/a\u003e, and sign into the console.\u003c/p\u003e\\n\u003ch3 id=\\\"heading-b-creating-the-amazon-efs\\\"\u003e\u003cstrong\u003e\u003cmark\u003eB. CREATING THE AMAZON EFS\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003eType EFS in the search bar and click on it.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740064869569/3de09a76-a04c-42b2-a71c-af398c324cda.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e\u003cp\u003eClick \u003cstrong\u003eCREATE FILE SYSTEM\u003c/strong\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003cmark\u003eName:\u003c/mark\u003e Give a unique name for your EFS File System.\u003c/p\u003e\\n\u003cp\u003e \u003cmark\u003eVirtual Private Cloud:\u003c/mark\u003e This is created automatically with the EFS.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003eAfter you have given the EFS a name, select \u003cstrong\u003eCustomize\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065040291/8441eebe-b390-4749-99f1-143879a38108.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003eUnder customize, there are 4 steps. You can leave Step 1 and 2 in its default state and move to Step 3.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065273532/1f80be22-1003-4e30-a28b-9adb1eb76868.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003eStep 3 covers the policy options. I checked the encryption in-transit.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eEncryption in-transit\u003c/mark\u003e\u003c/strong\u003e is a process of protecting data while it is being transferred between two points in a network.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eSelect \u003cstrong\u003eCreate.\u003c/strong\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065475238/0cd4271a-ddc6-4613-8cb1-d6ccca8ba3e3.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"7\\\"\u003e\\n\u003cli\u003eThe EFS has be successfully created as shown in diagram below.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066328963/7b2f25cf-2fa1-4c96-a21e-26cd1185e201.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003ch3 id=\\\"heading-c-creating-our-ec2-instances\\\"\u003e\u003cstrong\u003e\u003cmark\u003eC. CREATING OUR EC2 INSTANCES\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003e\u003cp\u003eType EC2 in the search bar and click on it.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066524564/ddbae823-125e-4d97-bbee-9799b50bface.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eNext, select \u003cstrong\u003eLaunch Instance.\u003c/strong\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003cmark\u003eName:\u003c/mark\u003e Give a unique name to your EC2 instance.\u003c/p\u003e\\n\u003cp\u003e \u003cmark\u003eApplication and OS Images (AMI):\u003c/mark\u003e Choose \u003cstrong\u003eAmazon Linux\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066690474/01d740fb-e15b-406e-a235-aaa3a9d3880a.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003e\u003cmark\u003eDescription\u003c/mark\u003e\u003c/strong\u003e: I left it as default\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eInstance type:\u003c/mark\u003e\u003c/strong\u003e I chose \u003cstrong\u003et2 micro\u003c/strong\u003e. You can choose any other instance type under the free tier eligible.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066874989/c171f03e-df18-487b-843b-1637198abe00.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003e\u003cmark\u003eKey pair:\u003c/mark\u003e\u003c/strong\u003e I chose to \u003cstrong\u003ecreate a key pair\u003c/strong\u003e, but you can \u003cstrong\u003eProceed without key pair\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e If you choose Proceed without key pair, it takes you to the next stage.\u003c/p\u003e\\n\u003cp\u003e If you choose to create a key pair, the diagram attached shows you what to do.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740067159957/f7b7eb9c-455b-4948-9706-cba8d44fcabf.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"6\\\"\u003e\\n\u003cli\u003e\u003cp\u003eUnder Network settings, click \u003cstrong\u003eEdit.\u003c/strong\u003e The VPC that was automatically created by AWS for the EFS becomes the default VPC. Leave every part as default and move to \u003cstrong\u003eFirewall (security groups)\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e Select \u003cstrong\u003eCreate security group\u003c/strong\u003e and give it a unique name. You can also give it a description by describing what the security group is for.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740067413922/446b1695-3601-4bd8-beaa-791ee5799acd.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"7\\\"\u003e\\n\u003cli\u003e\u003cp\u003eYou can leave every other selection in their default state and proceed to \u003cstrong\u003e\u003cmark\u003eLaunch Instance\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eAt this point, the instance is successfully launched.\u003c/p\u003e\\n\u003cp\u003e Follow same steps and create the second instance.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078532058/99062a7c-bb22-46bd-92e9-45b115a482c7.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eAfter the second instance is successfully launched, this is what you would be having.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078618235/b4104873-e918-4a63-8d57-5bc93822bb77.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003ch3 id=\\\"heading-d-configuring-the-rules-in-the-security-group\\\"\u003e\u003cstrong\u003e\u003cmark\u003eD. CONFIGURING THE RULES IN THE SECURITY GROUP\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003e\u003cp\u003eAfter the launching of instances, we need to edit the rules for the security group to enable the EC2 instances communicate with the EFS by allowing traffic from port 2049.\u003c/p\u003e\\n\u003cp\u003e For this to be effected, go to \u003cstrong\u003eNetwork \u0026amp; Security\u003c/strong\u003e and click \u003cstrong\u003e\u003cmark\u003eSecurity Groups\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078813337/b163790d-e3b5-4d24-aef8-cd8017d80e21.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e\u003cp\u003eThe security group tab shows you all the security groups created.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eDefault\u003c/mark\u003e\u003c/strong\u003e was created for the EFS automatically while the EFS was being configured.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eSG_Machine1\u003c/mark\u003e\u003c/strong\u003e was created when I was launching the first EC2 instance.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eSG_Machine2\u003c/mark\u003e\u003c/strong\u003e was created when I was launching the second EC2 instance.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079074214/50b5b986-ab7e-42f6-9e78-bd28499a7a42.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"3\\\"\u003e\\n\u003cli\u003eSelect the \u003cstrong\u003edefault\u003c/strong\u003e security group, and click \u003cstrong\u003e\u003cmark\u003eEdit Inbound Rule\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079339061/30225a03-df3f-46af-9379-8da6789d3794.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003e\u003cp\u003eClick \u003cstrong\u003eAdd Rule\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e Under Type, Click the drop-down arrow and select \u003cstrong\u003e\u003cmark\u003eNFS\u003c/mark\u003e\u003c/strong\u003e. Also, select the security group created for that particular instance as shown in the diagram.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079458775/b4b65e97-3c7c-4857-9885-0e2db39611c1.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003eRepeat same process above for the second instance also. Make sure to select the correct security group for the instance.\u003c/p\u003e\\n\u003cp\u003e Next, select \u003cstrong\u003e\u003cmark\u003eSave Rules\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079945983/d7473b87-3425-472f-8d21-720192924b80.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"6\\\"\u003e\\n\u003cli\u003eThe inbound rules on the default security group should look this way after editing.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080099403/8725ec57-bea1-47b7-ad0f-8cf0f53595ba.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003ch3 id=\\\"heading-e-mounting-the-efs-and-connecting-the-ec2-instances-to-the-efs\\\"\u003e\u003cstrong\u003e\u003cmark\u003eE. MOUNTING THE EFS AND CONNECTING THE EC2 INSTANCES TO THE EFS\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003eAt this stage, I went back to my instance and selected one of my instances and clicked \u003cstrong\u003e\u003cmark\u003eConnect\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080438556/e46f99ba-73b5-42a6-9b79-d396bed152cc.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e\u003cp\u003eI would be selecting \u003cstrong\u003eSSH Client\u003c/strong\u003e for my connection because I have a keypair which I generated for my connection.\u003c/p\u003e\\n\u003cp\u003e You can visit \u003ca target=\\\"_blank\\\" href=\\\"https://megbanj.hashnode.dev/quick-guide-to-deploying-a-linux-ec2-instance-on-aws\\\"\u003eQuick Guide to Deploying a Linux EC2 Instance on AWS\u003c/a\u003e to see how you can connect to your EC2 instance by using keypair.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eBelow is a view of what you would see on your \u003cstrong\u003ecommand prompt\u003c/strong\u003e or \u003cstrong\u003eterminal\u003c/strong\u003e once the instance is connected.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080827733/ef22fd82-c11f-4839-83df-a68f221f7b61.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003e\u003cp\u003eI installed the Amazon EFS utilities using the command \u003ccode\u003esudo dnf install -y amazon-efs-utils\u003c/code\u003e\u003c/p\u003e\\n\u003cp\u003e When installation is complete, you would see the information below\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740093348647/13fcb74f-1383-42d9-b2d7-262ceccfb194.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003eNext, let’s create a directory by using the command \u003ccode\u003esudo mkdir (directory name)\u003c/code\u003e\u003cstrong\u003e.\u003c/strong\u003e I named my directory \u003cstrong\u003eefs\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003ea. Return to the EFS on your console, Click on \u003cstrong\u003e\u003cmark\u003eAttach\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740093936322/4660467d-3b35-4c2f-af9f-fd136485f0a3.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"6\\\"\u003e\\n\u003cli\u003eb. Copy the mount command using the \u003cstrong\u003e\u003cmark\u003eEFS mount helper.\u003c/mark\u003e\u003c/strong\u003e\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740097665820/6d51b56d-3736-4917-a1a6-80b4e77704b1.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003e Return to your command prompt or terminal and paste the \u003cstrong\u003e\u003cmark\u003eEFS mount helper command\u003c/mark\u003e\u003c/strong\u003e which you just copied. Run the command.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eTo confirm that you have successfully mounted the EFS, run the \u003ccode\u003edf -T\u003c/code\u003e command.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740094254932/e4d13839-6d73-49e2-a180-a56488fa8c42.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"9\\\"\u003e\\n\u003cli\u003e\u003cp\u003eYou can run the \u003ccode\u003els -l\u003c/code\u003e command to see the permissions on the file.\u003c/p\u003e\\n\u003cp\u003e As you can see in the diagram, the ownership of the \u003cstrong\u003e\u003cmark\u003eefs\u003c/mark\u003e\u003c/strong\u003e directory is the \u003cstrong\u003e\u003cmark\u003eroot\u003c/mark\u003e\u003c/strong\u003e which does not give me the permission to execute any command as the \u003cstrong\u003e\u003cmark\u003euser.\u003c/mark\u003e\u003c/strong\u003e For me to get the permission, I used \u003ccode\u003esudo chown\u003c/code\u003e command.\u003c/p\u003e\\n\u003cp\u003e I typed \u003ccode\u003esudo chown ec2-user efs/.\u003c/code\u003e You would see that the change of ownership was done immediately I ran the chown command.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740094453749/0d0d9b9a-d64b-4127-8eef-1517923f3309.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"10\\\"\u003e\\n\u003cli\u003e\u003cp\u003eType \u003ccode\u003ecd\u003c/code\u003e \u003cstrong\u003e\u003cmark\u003e(directory name)\u003c/mark\u003e\u003c/strong\u003e to get into your directory.\u003c/p\u003e\\n\u003cp\u003eNext, you can create or put any type of files inside the directory. To create a file, use the \u003ccode\u003etouch\u003c/code\u003e \u003cstrong\u003e\u003cmark\u003ecommand + filename\u003c/mark\u003e\u003c/strong\u003e. I created a file named \u003cstrong\u003eDragonfly\u003c/strong\u003e and also dropped a \u003cstrong\u003eWordPress document\u003c/strong\u003e in the directory.\u003c/p\u003e\\n\u003cp\u003eAfterwards, I ran the \u003ccode\u003els\u003c/code\u003e command to confirm the files I have in my directory as seen below.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095244108/7d4703c3-131c-46e8-8761-8e972f29753a.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095253812/89814bde-4fac-4dee-9bad-2fdb40b52ef2.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eNow, let’s connect the second instance and see if we can view the same files in the directory that has been mounted on the EFS by the first EC2 instance.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eType the same commands as you did when you connected the previous EC2 instance.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003cp\u003e\u003ccode\u003esudo dnf install -y amazon-efs-utils\u003c/code\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003emake directory (give it the same name as the one in the previous EC2 instance).\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003esudo mount (using the EFS mount finder)\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003ccode\u003edf -T\u003c/code\u003e\u003c/p\u003e\\n\u003cp\u003e  From the diagram below, you would notice the EFS has been mounted.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095830974/7d638266-6236-418e-b427-e181d34ebe00.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"13\\\"\u003e\\n\u003cli\u003e\u003cp\u003eEnter your directory by using cd command\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003cp\u003ecd (directory name)\u003c/p\u003e\\n\u003cp\u003e  When you are in the directory, type the \u003ccode\u003els\u003c/code\u003e command to give you a list of the files in the directory. Remember you don’t need to create any file in this instance anymore. Since you have successfully mounted the EFS on the second instance, you would be able to see whatever files has been saved in the EFS.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eNotice how \u003cstrong\u003e\u003cmark\u003eInstance 2\u003c/mark\u003e\u003c/strong\u003e can see the same files that \u003cstrong\u003e\u003cmark\u003eInstance 1\u003c/mark\u003e\u003c/strong\u003e created and saved on the EFS.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740096931090/22480733-fe47-43da-98c4-8c0530811bd3.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740096941432/dcae3206-616f-4ff8-8841-b060f6551a0a.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003eI hope I have been able to help someone out through the process and believe that you enjoyed putting the process together to achieve your result.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003eThank you for stopping by and look forward to dropping another piece for your enlightenment.\u003c/p\u003e\\n\u003cp\u003eKindly drop a comment, like and share.\u003c/p\u003e\\n\",\"markdown\":\"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\\n\\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve into giving you the steps, let me briefly give an explanation of what EFS is.\\n\\nThis is an architectural design to explain the process for your understanding.\\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740087532547/925a25ff-bb66-4774-8061-e0acc52b9494.png align=\\\"center\\\")\\n\\nAmazon Elastic File System (Amazon EFS) is a file storage service that can be used with Amazon compute (Amazon EC2, Amazon ECS, Amazon EKS, AWS Lambda, and AWS Fargate, containers, serverless) and on-premises servers. It provides a file system interface, file system access and concurrently accessible storage for up to thousands of EC2 instances.\\n\\nIt is built to scale on demand without disrupting applications, growing and shrinking automatically as you add and remove files which makes it highly scalable, highly available, and highly durable. You can share data without provisioning or managing storage capacity and performance and you can also create and configure file systems quickly and easily.\\n\\nAmazon EFS offers the different file system types, performance and throughput modes to meet your availability and durability needs.\\n\\nAmazon EFS supports the Network File System version 4 (NFSv4.1 and NFSv4.0) protocol.\\n\\nAmazon EFS supports authentication, authorization, and encryption capabilities to help you meet your security and compliance requirements. Amazon EFS supports two forms of encryption for file systems: \u003cmark\u003eencryption in transit and encryption at rest\u003c/mark\u003e. You can enable encryption at rest when creating an Amazon EFS file system. If you do, \u003cmark\u003eall of your data and metadata is encrypted\u003c/mark\u003e. You can enable encryption in transit when you mount the file system.\\n\\nNow that I have given a brief summary of what an Amazon EFS is and its attributes, let’s get started.\\n\\nWe would need to create the following resources on AWS to help us achieve what we want:\\n\\na. An AWS account\\n\\nb. Amazon EFS\\n\\nc. Multiple instances (I would be creating 2 instances)\\n\\nd. Security Group\\n\\n\u003cmark\u003eA.\u003c/mark\u003e You need an AWS account to get started. This link would help you create an AWS account. [https://signin.aws.amazon.com/signup?request\\\\_type=register](https://signin.aws.amazon.com/signup?request_type=register). After creating an account, that account becomes the Root user. You can go ahead and create a user under the IAM.\\n\\nIf you already have an existing account, go to [https://aws.amazon.com](https://aws.amazon.com), and sign into the console.\\n\\n### **\u003cmark\u003eB. CREATING THE AMAZON EFS\u003c/mark\u003e**\\n\\n1. Type EFS in the search bar and click on it.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740064869569/3de09a76-a04c-42b2-a71c-af398c324cda.png align=\\\"center\\\")\\n\\n2. Click **CREATE FILE SYSTEM**\\n    \\n3. \u003cmark\u003eName:\u003c/mark\u003e Give a unique name for your EFS File System.\\n    \\n    \u003cmark\u003eVirtual Private Cloud:\u003c/mark\u003e This is created automatically with the EFS.\\n    \\n\\nAfter you have given the EFS a name, select **Customize**.\\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065040291/8441eebe-b390-4749-99f1-143879a38108.png align=\\\"center\\\")\\n\\n4. Under customize, there are 4 steps. You can leave Step 1 and 2 in its default state and move to Step 3.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065273532/1f80be22-1003-4e30-a28b-9adb1eb76868.png align=\\\"center\\\")\\n\\n5. Step 3 covers the policy options. I checked the encryption in-transit.\\n    \\n    **\u003cmark\u003eEncryption in-transit\u003c/mark\u003e** is a process of protecting data while it is being transferred between two points in a network.\\n    \\n6. Select **Create.**\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065475238/0cd4271a-ddc6-4613-8cb1-d6ccca8ba3e3.png align=\\\"center\\\")\\n\\n7. The EFS has be successfully created as shown in diagram below.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066328963/7b2f25cf-2fa1-4c96-a21e-26cd1185e201.png align=\\\"center\\\")\\n\\n### **\u003cmark\u003eC. CREATING OUR EC2 INSTANCES\u003c/mark\u003e**\\n\\n1. Type EC2 in the search bar and click on it.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066524564/ddbae823-125e-4d97-bbee-9799b50bface.png align=\\\"center\\\")\\n    \\n2. Next, select **Launch Instance.**\\n    \\n3. \u003cmark\u003eName:\u003c/mark\u003e Give a unique name to your EC2 instance.\\n    \\n    \u003cmark\u003eApplication and OS Images (AMI):\u003c/mark\u003e Choose **Amazon Linux**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066690474/01d740fb-e15b-406e-a235-aaa3a9d3880a.png align=\\\"center\\\")\\n\\n4. **\u003cmark\u003eDescription\u003c/mark\u003e**: I left it as default\\n    \\n    **\u003cmark\u003eInstance type:\u003c/mark\u003e** I chose **t2 micro**. You can choose any other instance type under the free tier eligible.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066874989/c171f03e-df18-487b-843b-1637198abe00.png align=\\\"center\\\")\\n\\n5. **\u003cmark\u003eKey pair:\u003c/mark\u003e** I chose to **create a key pair**, but you can **Proceed without key pair**.\\n    \\n    If you choose Proceed without key pair, it takes you to the next stage.\\n    \\n    If you choose to create a key pair, the diagram attached shows you what to do.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740067159957/f7b7eb9c-455b-4948-9706-cba8d44fcabf.png align=\\\"center\\\")\\n\\n6. Under Network settings, click **Edit.** The VPC that was automatically created by AWS for the EFS becomes the default VPC. Leave every part as default and move to **Firewall (security groups)**.\\n    \\n    Select **Create security group** and give it a unique name. You can also give it a description by describing what the security group is for.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740067413922/446b1695-3601-4bd8-beaa-791ee5799acd.png align=\\\"center\\\")\\n\\n7. You can leave every other selection in their default state and proceed to **\u003cmark\u003eLaunch Instance\u003c/mark\u003e**.\\n    \\n8. At this point, the instance is successfully launched.\\n    \\n    Follow same steps and create the second instance.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078532058/99062a7c-bb22-46bd-92e9-45b115a482c7.png align=\\\"center\\\")\\n    \\n9. After the second instance is successfully launched, this is what you would be having.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078618235/b4104873-e918-4a63-8d57-5bc93822bb77.png align=\\\"center\\\")\\n\\n### **\u003cmark\u003eD. CONFIGURING THE RULES IN THE SECURITY GROUP\u003c/mark\u003e**\\n\\n1. After the launching of instances, we need to edit the rules for the security group to enable the EC2 instances communicate with the EFS by allowing traffic from port 2049.\\n    \\n    For this to be effected, go to **Network \u0026 Security** and click **\u003cmark\u003eSecurity Groups\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078813337/b163790d-e3b5-4d24-aef8-cd8017d80e21.png align=\\\"center\\\")\\n\\n2. The security group tab shows you all the security groups created.\\n    \\n    **\u003cmark\u003eDefault\u003c/mark\u003e** was created for the EFS automatically while the EFS was being configured.\\n    \\n    **\u003cmark\u003eSG_Machine1\u003c/mark\u003e** was created when I was launching the first EC2 instance.\\n    \\n    **\u003cmark\u003eSG_Machine2\u003c/mark\u003e** was created when I was launching the second EC2 instance.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079074214/50b5b986-ab7e-42f6-9e78-bd28499a7a42.png align=\\\"center\\\")\\n\\n3. Select the **default** security group, and click **\u003cmark\u003eEdit Inbound Rule\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079339061/30225a03-df3f-46af-9379-8da6789d3794.png align=\\\"center\\\")\\n\\n4. Click **Add Rule**.\\n    \\n    Under Type, Click the drop-down arrow and select **\u003cmark\u003eNFS\u003c/mark\u003e**. Also, select the security group created for that particular instance as shown in the diagram.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079458775/b4b65e97-3c7c-4857-9885-0e2db39611c1.png align=\\\"center\\\")\\n\\n5. Repeat same process above for the second instance also. Make sure to select the correct security group for the instance.\\n    \\n    Next, select **\u003cmark\u003eSave Rules\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079945983/d7473b87-3425-472f-8d21-720192924b80.png align=\\\"center\\\")\\n\\n6. The inbound rules on the default security group should look this way after editing.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080099403/8725ec57-bea1-47b7-ad0f-8cf0f53595ba.png align=\\\"center\\\")\\n\\n### **\u003cmark\u003eE. MOUNTING THE EFS AND CONNECTING THE EC2 INSTANCES TO THE EFS\u003c/mark\u003e**\\n\\n1. At this stage, I went back to my instance and selected one of my instances and clicked **\u003cmark\u003eConnect\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080438556/e46f99ba-73b5-42a6-9b79-d396bed152cc.png align=\\\"center\\\")\\n\\n2. I would be selecting **SSH Client** for my connection because I have a keypair which I generated for my connection.\\n    \\n    You can visit [Quick Guide to Deploying a Linux EC2 Instance on AWS](https://megbanj.hashnode.dev/quick-guide-to-deploying-a-linux-ec2-instance-on-aws) to see how you can connect to your EC2 instance by using keypair.\\n    \\n3. Below is a view of what you would see on your **command prompt** or **terminal** once the instance is connected.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080827733/ef22fd82-c11f-4839-83df-a68f221f7b61.png align=\\\"center\\\")\\n\\n4. I installed the Amazon EFS utilities using the command `sudo dnf install -y amazon-efs-utils`\\n    \\n    When installation is complete, you would see the information below\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740093348647/13fcb74f-1383-42d9-b2d7-262ceccfb194.png align=\\\"center\\\")\\n\\n5. Next, let’s create a directory by using the command `sudo mkdir (directory name)`**.** I named my directory **efs**.\\n    \\n6. a. Return to the EFS on your console, Click on **\u003cmark\u003eAttach\u003c/mark\u003e**.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740093936322/4660467d-3b35-4c2f-af9f-fd136485f0a3.png align=\\\"center\\\")\\n    \\n    6. b. Copy the mount command using the **\u003cmark\u003eEFS mount helper.\u003c/mark\u003e**\\n        \\n7. ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740097665820/6d51b56d-3736-4917-a1a6-80b4e77704b1.png align=\\\"center\\\")\\n    \\n    Return to your command prompt or terminal and paste the **\u003cmark\u003eEFS mount helper command\u003c/mark\u003e** which you just copied. Run the command.\\n    \\n8. To confirm that you have successfully mounted the EFS, run the `df -T` command.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740094254932/e4d13839-6d73-49e2-a180-a56488fa8c42.png align=\\\"center\\\")\\n\\n9. You can run the `ls -l` command to see the permissions on the file.\\n    \\n    As you can see in the diagram, the ownership of the **\u003cmark\u003eefs\u003c/mark\u003e** directory is the **\u003cmark\u003eroot\u003c/mark\u003e** which does not give me the permission to execute any command as the **\u003cmark\u003euser.\u003c/mark\u003e** For me to get the permission, I used `sudo chown` command.\\n    \\n    I typed `sudo chown ec2-user efs/.` You would see that the change of ownership was done immediately I ran the chown command.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740094453749/0d0d9b9a-d64b-4127-8eef-1517923f3309.png align=\\\"center\\\")\\n    \\n    10. Type `cd` **\u003cmark\u003e(directory name)\u003c/mark\u003e** to get into your directory.\\n        \\n        Next, you can create or put any type of files inside the directory. To create a file, use the `touch` **\u003cmark\u003ecommand + filename\u003c/mark\u003e**. I created a file named **Dragonfly** and also dropped a **WordPress document** in the directory.\\n        \\n        Afterwards, I ran the `ls` command to confirm the files I have in my directory as seen below.\\n        \\n        ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095244108/7d4703c3-131c-46e8-8761-8e972f29753a.png align=\\\"center\\\")\\n        \\n        ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095253812/89814bde-4fac-4dee-9bad-2fdb40b52ef2.png align=\\\"center\\\")\\n        \\n    11. Now, let’s connect the second instance and see if we can view the same files in the directory that has been mounted on the EFS by the first EC2 instance.\\n        \\n    12. Type the same commands as you did when you connected the previous EC2 instance.\\n        \\n        * `sudo dnf install -y amazon-efs-utils`\\n            \\n        * make directory (give it the same name as the one in the previous EC2 instance).\\n            \\n        * sudo mount (using the EFS mount finder)\\n            \\n        * `df -T`\\n            \\n            From the diagram below, you would notice the EFS has been mounted.\\n            \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095830974/7d638266-6236-418e-b427-e181d34ebe00.png align=\\\"center\\\")\\n\\n13. Enter your directory by using cd command\\n    \\n    * cd (directory name)\\n        \\n        When you are in the directory, type the `ls` command to give you a list of the files in the directory. Remember you don’t need to create any file in this instance anymore. Since you have successfully mounted the EFS on the second instance, you would be able to see whatever files has been saved in the EFS.\\n        \\n14. Notice how **\u003cmark\u003eInstance 2\u003c/mark\u003e** can see the same files that **\u003cmark\u003eInstance 1\u003c/mark\u003e** created and saved on the EFS.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740096931090/22480733-fe47-43da-98c4-8c0530811bd3.png align=\\\"center\\\")\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740096941432/dcae3206-616f-4ff8-8841-b060f6551a0a.png align=\\\"center\\\")\\n    \\n    I hope I have been able to help someone out through the process and believe that you enjoyed putting the process together to achieve your result.\\n    \\n\\nThank you for stopping by and look forward to dropping another piece for your enlightenment.\\n\\nKindly drop a comment, like and share.\"},\"views\":189,\"preferences\":{\"pinnedToBlog\":false,\"disableComments\":false,\"stickCoverToBottom\":false,\"isDelisted\":false},\"readTimeInMinutes\":7,\"series\":null,\"tags\":[{\"id\":\"62bbe9f257496ff2aa455861\",\"slug\":\"efs\",\"name\":\"EFS\"},{\"id\":\"5708ff9c115103c3b09782d7\",\"slug\":\"storage\",\"name\":\"storage\"},{\"id\":\"56744721958ef13879b94a18\",\"slug\":\"ec2\",\"name\":\"ec2\"},{\"id\":\"643d794da75bf124a0b6aad8\",\"slug\":\"ec2-instance\",\"name\":\"EC2 instance\"},{\"id\":\"633c14343851feab268a46a9\",\"slug\":\"mount\",\"name\":\"mount\"},{\"id\":\"6380d7361e50d717cb911726\",\"slug\":\"securitygroups\",\"name\":\"securitygroups\"},{\"id\":\"59d734b88109ada408d200e0\",\"slug\":\"connect\",\"name\":\"connect\"},{\"id\":\"57f158af4ed9193df77de41e\",\"slug\":\"amazon-ec2\",\"name\":\"Amazon EC2\"},{\"id\":\"62bbe9f257496ff2aa455862\",\"slug\":\"amazon-efs\",\"name\":\"Amazon EFS\"}],\"ogMetaData\":{\"image\":null},\"canonicalUrl\":null,\"hasLatexInPost\":false,\"audioUrls\":null,\"isFollowed\":null,\"bookmarked\":false,\"features\":{\"tableOfContents\":{\"isEnabled\":false,\"items\":[]},\"badges\":{\"isEnabled\":true,\"items\":[]}},\"isAutoPublishedFromRSS\":false,\"authenticatedUserLikes\":{\"edges\":[]},\"totalUserLikes\":{\"totalDocuments\":2},\"isShadowBanned\":false,\"isAskMeAnything\":false},\"redirectedPost\":null,\"staticPage\":null}","totalUsersWhoLikedArticle":2,"integrations":{"fbPixelID":null,"fathomSiteID":null,"fathomCustomDomainEnabled":null,"fathomCustomDomain":null,"hotjarSiteID":null,"matomoSiteID":null,"matomoURL":null,"gaTrackingID":null,"gTagManagerID":null,"plausibleAnalyticsEnabled":null,"koalaPublicKey":null,"msClarityID":null,"domainURL":"megbanj.hashnode.dev"},"rootLayout":{"legacyPublicationJSON":"{\"_id\":\"677f1bb695ed9f78a029d211\",\"author\":{\"_id\":\"677ee106fefedc24fee40ced\",\"name\":\"Ms. B\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png\",\"username\":\"MegBanj\"},\"badgePageEnabled\":true,\"description\":\"\",\"domain\":\"\",\"domainStatus\":{},\"wwwPrefixedDomainStatus\":{},\"customCSSEnabled\":false,\"customCSSPublished\":{\"homeMin\":\"\",\"postMin\":\"\",\"staticMin\":\"\"},\"customRules\":[],\"darkModeEnabled\":false,\"darkModeLogo\":\"\",\"disableFooterBranding\":false,\"isSubscriptionModalDisabled\":false,\"publicMembersCount\":1,\"displayTitle\":\"\",\"favicon\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736383408254/0c3463f6-9173-49e3-ac1b-cdec58694967.jpeg\",\"gaTrackingID\":\"\",\"gTagManagerID\":\"\",\"hasBadges\":false,\"headerColor\":\"\",\"hideMembersPage\":false,\"isTeam\":true,\"layout\":\"stacked\",\"membersPageEnabled\":true,\"menu\":[],\"metaHTML\":\"\",\"metaHTMLSanitized\":\"\",\"newsletterEnabled\":true,\"proTeamEnabled\":false,\"newsletterPageEnabled\":false,\"ogImage\":\"\",\"logo\":\"\",\"textSelectionSharerEnabled\":true,\"title\":\"MegBanj's Cloud Experience\",\"urlPattern\":\"simple\",\"username\":\"megbanj\",\"viewCountVisible\":true,\"readTimeHidden\":false,\"links\":{\"twitter\":\"\",\"instagram\":\"\",\"github\":\"\",\"website\":\"\",\"hashnode\":\"\",\"youtube\":\"\",\"dailydev\":\"\",\"linkedin\":\"\",\"mastodon\":\"\",\"facebook\":\"\"},\"numPosts\":6,\"sponsorship\":{\"content\":\"\",\"contentMarkdown\":\"\"},\"allowContributorEdits\":true,\"allowCrawlingByGPT\":false}","legacyPostJSON":"{\"_id\":\"67b7ccf1d40823de9b451072\",\"partOfPublication\":true,\"author\":{\"_id\":\"677ee106fefedc24fee40ced\",\"name\":\"Ms. B\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png\",\"username\":\"MegBanj\",\"bio\":\"\u003cp\u003eHi, I'm a tech enthusiast who has decided to document her cloud journey as the day goes by. Stay tuned and follow me through this journey which I believe would be a wonderful experience.\u003c/p\u003e\\n\u003cp\u003eI'm also a team player who loves collaborating with others to create innovative solutions.\u003c/p\u003e\\n\",\"socialMedia\":{\"website\":\"\",\"github\":\"https://github.com/MegBanj001\",\"twitter\":\"\",\"facebook\":\"\",\"stackoverflow\":\"\",\"linkedin\":\"https://www.linkedin.com/in/magdalene-banj\"},\"isDeactivated\":false},\"bookmarkedIn\":[],\"publication\":{\"_id\":\"677f1bb695ed9f78a029d211\",\"author\":{\"_id\":\"677ee106fefedc24fee40ced\",\"name\":\"Ms. B\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png\",\"username\":\"MegBanj\"},\"badgePageEnabled\":true,\"description\":\"\",\"domain\":\"\",\"domainStatus\":{},\"wwwPrefixedDomainStatus\":{},\"customCSSEnabled\":false,\"customCSSPublished\":{\"homeMin\":\"\",\"postMin\":\"\",\"staticMin\":\"\"},\"customRules\":[],\"darkModeEnabled\":false,\"darkModeLogo\":\"\",\"disableFooterBranding\":false,\"isSubscriptionModalDisabled\":false,\"publicMembersCount\":1,\"displayTitle\":\"\",\"favicon\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1736383408254/0c3463f6-9173-49e3-ac1b-cdec58694967.jpeg\",\"gaTrackingID\":\"\",\"gTagManagerID\":\"\",\"hasBadges\":false,\"headerColor\":\"\",\"hideMembersPage\":false,\"isTeam\":true,\"layout\":\"stacked\",\"membersPageEnabled\":true,\"menu\":[],\"metaHTML\":\"\",\"metaHTMLSanitized\":\"\",\"newsletterEnabled\":true,\"proTeamEnabled\":false,\"newsletterPageEnabled\":false,\"ogImage\":\"\",\"logo\":\"\",\"textSelectionSharerEnabled\":true,\"title\":\"MegBanj's Cloud Experience\",\"urlPattern\":\"simple\",\"username\":\"megbanj\",\"viewCountVisible\":true,\"readTimeHidden\":false,\"links\":{\"twitter\":\"\",\"instagram\":\"\",\"github\":\"\",\"website\":\"\",\"hashnode\":\"\",\"youtube\":\"\",\"dailydev\":\"\",\"linkedin\":\"\",\"mastodon\":\"\",\"facebook\":\"\"},\"numPosts\":6,\"sponsorship\":{\"content\":\"\",\"contentMarkdown\":\"\"},\"allowContributorEdits\":true,\"allowCrawlingByGPT\":false},\"tags\":[{\"_id\":\"62bbe9f257496ff2aa455861\",\"slug\":\"efs\",\"name\":\"EFS\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"5708ff9c115103c3b09782d7\",\"slug\":\"storage\",\"name\":\"storage\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"56744721958ef13879b94a18\",\"slug\":\"ec2\",\"name\":\"ec2\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"643d794da75bf124a0b6aad8\",\"slug\":\"ec2-instance\",\"name\":\"EC2 instance\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"633c14343851feab268a46a9\",\"slug\":\"mount\",\"name\":\"mount\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"6380d7361e50d717cb911726\",\"slug\":\"securitygroups\",\"name\":\"securitygroups\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"59d734b88109ada408d200e0\",\"slug\":\"connect\",\"name\":\"connect\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"57f158af4ed9193df77de41e\",\"slug\":\"amazon-ec2\",\"name\":\"Amazon EC2\",\"isActive\":true,\"isApproved\":true},{\"_id\":\"62bbe9f257496ff2aa455862\",\"slug\":\"amazon-efs\",\"name\":\"Amazon EFS\",\"isActive\":true,\"isApproved\":true}],\"coAuthors\":[],\"responseCount\":1,\"replyCount\":0,\"contentMarkdown\":\"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\\n\\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve into giving you the steps, let me briefly give an explanation of what EFS is.\\n\\nThis is an architectural design to explain the process for your understanding.\\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740087532547/925a25ff-bb66-4774-8061-e0acc52b9494.png align=\\\"center\\\")\\n\\nAmazon Elastic File System (Amazon EFS) is a file storage service that can be used with Amazon compute (Amazon EC2, Amazon ECS, Amazon EKS, AWS Lambda, and AWS Fargate, containers, serverless) and on-premises servers. It provides a file system interface, file system access and concurrently accessible storage for up to thousands of EC2 instances.\\n\\nIt is built to scale on demand without disrupting applications, growing and shrinking automatically as you add and remove files which makes it highly scalable, highly available, and highly durable. You can share data without provisioning or managing storage capacity and performance and you can also create and configure file systems quickly and easily.\\n\\nAmazon EFS offers the different file system types, performance and throughput modes to meet your availability and durability needs.\\n\\nAmazon EFS supports the Network File System version 4 (NFSv4.1 and NFSv4.0) protocol.\\n\\nAmazon EFS supports authentication, authorization, and encryption capabilities to help you meet your security and compliance requirements. Amazon EFS supports two forms of encryption for file systems: \u003cmark\u003eencryption in transit and encryption at rest\u003c/mark\u003e. You can enable encryption at rest when creating an Amazon EFS file system. If you do, \u003cmark\u003eall of your data and metadata is encrypted\u003c/mark\u003e. You can enable encryption in transit when you mount the file system.\\n\\nNow that I have given a brief summary of what an Amazon EFS is and its attributes, let’s get started.\\n\\nWe would need to create the following resources on AWS to help us achieve what we want:\\n\\na. An AWS account\\n\\nb. Amazon EFS\\n\\nc. Multiple instances (I would be creating 2 instances)\\n\\nd. Security Group\\n\\n\u003cmark\u003eA.\u003c/mark\u003e You need an AWS account to get started. This link would help you create an AWS account. [https://signin.aws.amazon.com/signup?request\\\\_type=register](https://signin.aws.amazon.com/signup?request_type=register). After creating an account, that account becomes the Root user. You can go ahead and create a user under the IAM.\\n\\nIf you already have an existing account, go to [https://aws.amazon.com](https://aws.amazon.com), and sign into the console.\\n\\n### **\u003cmark\u003eB. CREATING THE AMAZON EFS\u003c/mark\u003e**\\n\\n1. Type EFS in the search bar and click on it.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740064869569/3de09a76-a04c-42b2-a71c-af398c324cda.png align=\\\"center\\\")\\n\\n2. Click **CREATE FILE SYSTEM**\\n    \\n3. \u003cmark\u003eName:\u003c/mark\u003e Give a unique name for your EFS File System.\\n    \\n    \u003cmark\u003eVirtual Private Cloud:\u003c/mark\u003e This is created automatically with the EFS.\\n    \\n\\nAfter you have given the EFS a name, select **Customize**.\\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065040291/8441eebe-b390-4749-99f1-143879a38108.png align=\\\"center\\\")\\n\\n4. Under customize, there are 4 steps. You can leave Step 1 and 2 in its default state and move to Step 3.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065273532/1f80be22-1003-4e30-a28b-9adb1eb76868.png align=\\\"center\\\")\\n\\n5. Step 3 covers the policy options. I checked the encryption in-transit.\\n    \\n    **\u003cmark\u003eEncryption in-transit\u003c/mark\u003e** is a process of protecting data while it is being transferred between two points in a network.\\n    \\n6. Select **Create.**\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065475238/0cd4271a-ddc6-4613-8cb1-d6ccca8ba3e3.png align=\\\"center\\\")\\n\\n7. The EFS has be successfully created as shown in diagram below.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066328963/7b2f25cf-2fa1-4c96-a21e-26cd1185e201.png align=\\\"center\\\")\\n\\n### **\u003cmark\u003eC. CREATING OUR EC2 INSTANCES\u003c/mark\u003e**\\n\\n1. Type EC2 in the search bar and click on it.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066524564/ddbae823-125e-4d97-bbee-9799b50bface.png align=\\\"center\\\")\\n    \\n2. Next, select **Launch Instance.**\\n    \\n3. \u003cmark\u003eName:\u003c/mark\u003e Give a unique name to your EC2 instance.\\n    \\n    \u003cmark\u003eApplication and OS Images (AMI):\u003c/mark\u003e Choose **Amazon Linux**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066690474/01d740fb-e15b-406e-a235-aaa3a9d3880a.png align=\\\"center\\\")\\n\\n4. **\u003cmark\u003eDescription\u003c/mark\u003e**: I left it as default\\n    \\n    **\u003cmark\u003eInstance type:\u003c/mark\u003e** I chose **t2 micro**. You can choose any other instance type under the free tier eligible.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066874989/c171f03e-df18-487b-843b-1637198abe00.png align=\\\"center\\\")\\n\\n5. **\u003cmark\u003eKey pair:\u003c/mark\u003e** I chose to **create a key pair**, but you can **Proceed without key pair**.\\n    \\n    If you choose Proceed without key pair, it takes you to the next stage.\\n    \\n    If you choose to create a key pair, the diagram attached shows you what to do.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740067159957/f7b7eb9c-455b-4948-9706-cba8d44fcabf.png align=\\\"center\\\")\\n\\n6. Under Network settings, click **Edit.** The VPC that was automatically created by AWS for the EFS becomes the default VPC. Leave every part as default and move to **Firewall (security groups)**.\\n    \\n    Select **Create security group** and give it a unique name. You can also give it a description by describing what the security group is for.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740067413922/446b1695-3601-4bd8-beaa-791ee5799acd.png align=\\\"center\\\")\\n\\n7. You can leave every other selection in their default state and proceed to **\u003cmark\u003eLaunch Instance\u003c/mark\u003e**.\\n    \\n8. At this point, the instance is successfully launched.\\n    \\n    Follow same steps and create the second instance.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078532058/99062a7c-bb22-46bd-92e9-45b115a482c7.png align=\\\"center\\\")\\n    \\n9. After the second instance is successfully launched, this is what you would be having.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078618235/b4104873-e918-4a63-8d57-5bc93822bb77.png align=\\\"center\\\")\\n\\n### **\u003cmark\u003eD. CONFIGURING THE RULES IN THE SECURITY GROUP\u003c/mark\u003e**\\n\\n1. After the launching of instances, we need to edit the rules for the security group to enable the EC2 instances communicate with the EFS by allowing traffic from port 2049.\\n    \\n    For this to be effected, go to **Network \u0026 Security** and click **\u003cmark\u003eSecurity Groups\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078813337/b163790d-e3b5-4d24-aef8-cd8017d80e21.png align=\\\"center\\\")\\n\\n2. The security group tab shows you all the security groups created.\\n    \\n    **\u003cmark\u003eDefault\u003c/mark\u003e** was created for the EFS automatically while the EFS was being configured.\\n    \\n    **\u003cmark\u003eSG_Machine1\u003c/mark\u003e** was created when I was launching the first EC2 instance.\\n    \\n    **\u003cmark\u003eSG_Machine2\u003c/mark\u003e** was created when I was launching the second EC2 instance.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079074214/50b5b986-ab7e-42f6-9e78-bd28499a7a42.png align=\\\"center\\\")\\n\\n3. Select the **default** security group, and click **\u003cmark\u003eEdit Inbound Rule\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079339061/30225a03-df3f-46af-9379-8da6789d3794.png align=\\\"center\\\")\\n\\n4. Click **Add Rule**.\\n    \\n    Under Type, Click the drop-down arrow and select **\u003cmark\u003eNFS\u003c/mark\u003e**. Also, select the security group created for that particular instance as shown in the diagram.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079458775/b4b65e97-3c7c-4857-9885-0e2db39611c1.png align=\\\"center\\\")\\n\\n5. Repeat same process above for the second instance also. Make sure to select the correct security group for the instance.\\n    \\n    Next, select **\u003cmark\u003eSave Rules\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079945983/d7473b87-3425-472f-8d21-720192924b80.png align=\\\"center\\\")\\n\\n6. The inbound rules on the default security group should look this way after editing.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080099403/8725ec57-bea1-47b7-ad0f-8cf0f53595ba.png align=\\\"center\\\")\\n\\n### **\u003cmark\u003eE. MOUNTING THE EFS AND CONNECTING THE EC2 INSTANCES TO THE EFS\u003c/mark\u003e**\\n\\n1. At this stage, I went back to my instance and selected one of my instances and clicked **\u003cmark\u003eConnect\u003c/mark\u003e**.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080438556/e46f99ba-73b5-42a6-9b79-d396bed152cc.png align=\\\"center\\\")\\n\\n2. I would be selecting **SSH Client** for my connection because I have a keypair which I generated for my connection.\\n    \\n    You can visit [Quick Guide to Deploying a Linux EC2 Instance on AWS](https://megbanj.hashnode.dev/quick-guide-to-deploying-a-linux-ec2-instance-on-aws) to see how you can connect to your EC2 instance by using keypair.\\n    \\n3. Below is a view of what you would see on your **command prompt** or **terminal** once the instance is connected.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080827733/ef22fd82-c11f-4839-83df-a68f221f7b61.png align=\\\"center\\\")\\n\\n4. I installed the Amazon EFS utilities using the command `sudo dnf install -y amazon-efs-utils`\\n    \\n    When installation is complete, you would see the information below\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740093348647/13fcb74f-1383-42d9-b2d7-262ceccfb194.png align=\\\"center\\\")\\n\\n5. Next, let’s create a directory by using the command `sudo mkdir (directory name)`**.** I named my directory **efs**.\\n    \\n6. a. Return to the EFS on your console, Click on **\u003cmark\u003eAttach\u003c/mark\u003e**.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740093936322/4660467d-3b35-4c2f-af9f-fd136485f0a3.png align=\\\"center\\\")\\n    \\n    6. b. Copy the mount command using the **\u003cmark\u003eEFS mount helper.\u003c/mark\u003e**\\n        \\n7. ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740097665820/6d51b56d-3736-4917-a1a6-80b4e77704b1.png align=\\\"center\\\")\\n    \\n    Return to your command prompt or terminal and paste the **\u003cmark\u003eEFS mount helper command\u003c/mark\u003e** which you just copied. Run the command.\\n    \\n8. To confirm that you have successfully mounted the EFS, run the `df -T` command.\\n    \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740094254932/e4d13839-6d73-49e2-a180-a56488fa8c42.png align=\\\"center\\\")\\n\\n9. You can run the `ls -l` command to see the permissions on the file.\\n    \\n    As you can see in the diagram, the ownership of the **\u003cmark\u003eefs\u003c/mark\u003e** directory is the **\u003cmark\u003eroot\u003c/mark\u003e** which does not give me the permission to execute any command as the **\u003cmark\u003euser.\u003c/mark\u003e** For me to get the permission, I used `sudo chown` command.\\n    \\n    I typed `sudo chown ec2-user efs/.` You would see that the change of ownership was done immediately I ran the chown command.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740094453749/0d0d9b9a-d64b-4127-8eef-1517923f3309.png align=\\\"center\\\")\\n    \\n    10. Type `cd` **\u003cmark\u003e(directory name)\u003c/mark\u003e** to get into your directory.\\n        \\n        Next, you can create or put any type of files inside the directory. To create a file, use the `touch` **\u003cmark\u003ecommand + filename\u003c/mark\u003e**. I created a file named **Dragonfly** and also dropped a **WordPress document** in the directory.\\n        \\n        Afterwards, I ran the `ls` command to confirm the files I have in my directory as seen below.\\n        \\n        ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095244108/7d4703c3-131c-46e8-8761-8e972f29753a.png align=\\\"center\\\")\\n        \\n        ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095253812/89814bde-4fac-4dee-9bad-2fdb40b52ef2.png align=\\\"center\\\")\\n        \\n    11. Now, let’s connect the second instance and see if we can view the same files in the directory that has been mounted on the EFS by the first EC2 instance.\\n        \\n    12. Type the same commands as you did when you connected the previous EC2 instance.\\n        \\n        * `sudo dnf install -y amazon-efs-utils`\\n            \\n        * make directory (give it the same name as the one in the previous EC2 instance).\\n            \\n        * sudo mount (using the EFS mount finder)\\n            \\n        * `df -T`\\n            \\n            From the diagram below, you would notice the EFS has been mounted.\\n            \\n\\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095830974/7d638266-6236-418e-b427-e181d34ebe00.png align=\\\"center\\\")\\n\\n13. Enter your directory by using cd command\\n    \\n    * cd (directory name)\\n        \\n        When you are in the directory, type the `ls` command to give you a list of the files in the directory. Remember you don’t need to create any file in this instance anymore. Since you have successfully mounted the EFS on the second instance, you would be able to see whatever files has been saved in the EFS.\\n        \\n14. Notice how **\u003cmark\u003eInstance 2\u003c/mark\u003e** can see the same files that **\u003cmark\u003eInstance 1\u003c/mark\u003e** created and saved on the EFS.\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740096931090/22480733-fe47-43da-98c4-8c0530811bd3.png align=\\\"center\\\")\\n    \\n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740096941432/dcae3206-616f-4ff8-8841-b060f6551a0a.png align=\\\"center\\\")\\n    \\n    I hope I have been able to help someone out through the process and believe that you enjoyed putting the process together to achieve your result.\\n    \\n\\nThank you for stopping by and look forward to dropping another piece for your enlightenment.\\n\\nKindly drop a comment, like and share.\",\"content\":\"\u003cp\u003eWelcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\u003c/p\u003e\\n\u003cp\u003eToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve into giving you the steps, let me briefly give an explanation of what EFS is.\u003c/p\u003e\\n\u003cp\u003eThis is an architectural design to explain the process for your understanding.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740087532547/925a25ff-bb66-4774-8061-e0acc52b9494.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003eAmazon Elastic File System (Amazon EFS) is a file storage service that can be used with Amazon compute (Amazon EC2, Amazon ECS, Amazon EKS, AWS Lambda, and AWS Fargate, containers, serverless) and on-premises servers. It provides a file system interface, file system access and concurrently accessible storage for up to thousands of EC2 instances.\u003c/p\u003e\\n\u003cp\u003eIt is built to scale on demand without disrupting applications, growing and shrinking automatically as you add and remove files which makes it highly scalable, highly available, and highly durable. You can share data without provisioning or managing storage capacity and performance and you can also create and configure file systems quickly and easily.\u003c/p\u003e\\n\u003cp\u003eAmazon EFS offers the different file system types, performance and throughput modes to meet your availability and durability needs.\u003c/p\u003e\\n\u003cp\u003eAmazon EFS supports the Network File System version 4 (NFSv4.1 and NFSv4.0) protocol.\u003c/p\u003e\\n\u003cp\u003eAmazon EFS supports authentication, authorization, and encryption capabilities to help you meet your security and compliance requirements. Amazon EFS supports two forms of encryption for file systems: \u003cmark\u003eencryption in transit and encryption at rest\u003c/mark\u003e. You can enable encryption at rest when creating an Amazon EFS file system. If you do, \u003cmark\u003eall of your data and metadata is encrypted\u003c/mark\u003e. You can enable encryption in transit when you mount the file system.\u003c/p\u003e\\n\u003cp\u003eNow that I have given a brief summary of what an Amazon EFS is and its attributes, let’s get started.\u003c/p\u003e\\n\u003cp\u003eWe would need to create the following resources on AWS to help us achieve what we want:\u003c/p\u003e\\n\u003cp\u003ea. An AWS account\u003c/p\u003e\\n\u003cp\u003eb. Amazon EFS\u003c/p\u003e\\n\u003cp\u003ec. Multiple instances (I would be creating 2 instances)\u003c/p\u003e\\n\u003cp\u003ed. Security Group\u003c/p\u003e\\n\u003cp\u003e\u003cmark\u003eA.\u003c/mark\u003e You need an AWS account to get started. This link would help you create an AWS account. \u003ca target=\\\"_blank\\\" href=\\\"https://signin.aws.amazon.com/signup?request_type=register\\\"\u003ehttps://signin.aws.amazon.com/signup?request_type=register\u003c/a\u003e. After creating an account, that account becomes the Root user. You can go ahead and create a user under the IAM.\u003c/p\u003e\\n\u003cp\u003eIf you already have an existing account, go to \u003ca target=\\\"_blank\\\" href=\\\"https://aws.amazon.com\\\"\u003ehttps://aws.amazon.com\u003c/a\u003e, and sign into the console.\u003c/p\u003e\\n\u003ch3 id=\\\"heading-b-creating-the-amazon-efs\\\"\u003e\u003cstrong\u003e\u003cmark\u003eB. CREATING THE AMAZON EFS\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003eType EFS in the search bar and click on it.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740064869569/3de09a76-a04c-42b2-a71c-af398c324cda.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e\u003cp\u003eClick \u003cstrong\u003eCREATE FILE SYSTEM\u003c/strong\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003cmark\u003eName:\u003c/mark\u003e Give a unique name for your EFS File System.\u003c/p\u003e\\n\u003cp\u003e \u003cmark\u003eVirtual Private Cloud:\u003c/mark\u003e This is created automatically with the EFS.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003eAfter you have given the EFS a name, select \u003cstrong\u003eCustomize\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065040291/8441eebe-b390-4749-99f1-143879a38108.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003eUnder customize, there are 4 steps. You can leave Step 1 and 2 in its default state and move to Step 3.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065273532/1f80be22-1003-4e30-a28b-9adb1eb76868.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003eStep 3 covers the policy options. I checked the encryption in-transit.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eEncryption in-transit\u003c/mark\u003e\u003c/strong\u003e is a process of protecting data while it is being transferred between two points in a network.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eSelect \u003cstrong\u003eCreate.\u003c/strong\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065475238/0cd4271a-ddc6-4613-8cb1-d6ccca8ba3e3.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"7\\\"\u003e\\n\u003cli\u003eThe EFS has be successfully created as shown in diagram below.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066328963/7b2f25cf-2fa1-4c96-a21e-26cd1185e201.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003ch3 id=\\\"heading-c-creating-our-ec2-instances\\\"\u003e\u003cstrong\u003e\u003cmark\u003eC. CREATING OUR EC2 INSTANCES\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003e\u003cp\u003eType EC2 in the search bar and click on it.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066524564/ddbae823-125e-4d97-bbee-9799b50bface.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eNext, select \u003cstrong\u003eLaunch Instance.\u003c/strong\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003cmark\u003eName:\u003c/mark\u003e Give a unique name to your EC2 instance.\u003c/p\u003e\\n\u003cp\u003e \u003cmark\u003eApplication and OS Images (AMI):\u003c/mark\u003e Choose \u003cstrong\u003eAmazon Linux\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066690474/01d740fb-e15b-406e-a235-aaa3a9d3880a.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003e\u003cmark\u003eDescription\u003c/mark\u003e\u003c/strong\u003e: I left it as default\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eInstance type:\u003c/mark\u003e\u003c/strong\u003e I chose \u003cstrong\u003et2 micro\u003c/strong\u003e. You can choose any other instance type under the free tier eligible.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066874989/c171f03e-df18-487b-843b-1637198abe00.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003e\u003cmark\u003eKey pair:\u003c/mark\u003e\u003c/strong\u003e I chose to \u003cstrong\u003ecreate a key pair\u003c/strong\u003e, but you can \u003cstrong\u003eProceed without key pair\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e If you choose Proceed without key pair, it takes you to the next stage.\u003c/p\u003e\\n\u003cp\u003e If you choose to create a key pair, the diagram attached shows you what to do.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740067159957/f7b7eb9c-455b-4948-9706-cba8d44fcabf.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"6\\\"\u003e\\n\u003cli\u003e\u003cp\u003eUnder Network settings, click \u003cstrong\u003eEdit.\u003c/strong\u003e The VPC that was automatically created by AWS for the EFS becomes the default VPC. Leave every part as default and move to \u003cstrong\u003eFirewall (security groups)\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e Select \u003cstrong\u003eCreate security group\u003c/strong\u003e and give it a unique name. You can also give it a description by describing what the security group is for.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740067413922/446b1695-3601-4bd8-beaa-791ee5799acd.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"7\\\"\u003e\\n\u003cli\u003e\u003cp\u003eYou can leave every other selection in their default state and proceed to \u003cstrong\u003e\u003cmark\u003eLaunch Instance\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eAt this point, the instance is successfully launched.\u003c/p\u003e\\n\u003cp\u003e Follow same steps and create the second instance.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078532058/99062a7c-bb22-46bd-92e9-45b115a482c7.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eAfter the second instance is successfully launched, this is what you would be having.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078618235/b4104873-e918-4a63-8d57-5bc93822bb77.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003ch3 id=\\\"heading-d-configuring-the-rules-in-the-security-group\\\"\u003e\u003cstrong\u003e\u003cmark\u003eD. CONFIGURING THE RULES IN THE SECURITY GROUP\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003e\u003cp\u003eAfter the launching of instances, we need to edit the rules for the security group to enable the EC2 instances communicate with the EFS by allowing traffic from port 2049.\u003c/p\u003e\\n\u003cp\u003e For this to be effected, go to \u003cstrong\u003eNetwork \u0026amp; Security\u003c/strong\u003e and click \u003cstrong\u003e\u003cmark\u003eSecurity Groups\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078813337/b163790d-e3b5-4d24-aef8-cd8017d80e21.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e\u003cp\u003eThe security group tab shows you all the security groups created.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eDefault\u003c/mark\u003e\u003c/strong\u003e was created for the EFS automatically while the EFS was being configured.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eSG_Machine1\u003c/mark\u003e\u003c/strong\u003e was created when I was launching the first EC2 instance.\u003c/p\u003e\\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eSG_Machine2\u003c/mark\u003e\u003c/strong\u003e was created when I was launching the second EC2 instance.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079074214/50b5b986-ab7e-42f6-9e78-bd28499a7a42.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"3\\\"\u003e\\n\u003cli\u003eSelect the \u003cstrong\u003edefault\u003c/strong\u003e security group, and click \u003cstrong\u003e\u003cmark\u003eEdit Inbound Rule\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079339061/30225a03-df3f-46af-9379-8da6789d3794.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003e\u003cp\u003eClick \u003cstrong\u003eAdd Rule\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e Under Type, Click the drop-down arrow and select \u003cstrong\u003e\u003cmark\u003eNFS\u003c/mark\u003e\u003c/strong\u003e. Also, select the security group created for that particular instance as shown in the diagram.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079458775/b4b65e97-3c7c-4857-9885-0e2db39611c1.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003eRepeat same process above for the second instance also. Make sure to select the correct security group for the instance.\u003c/p\u003e\\n\u003cp\u003e Next, select \u003cstrong\u003e\u003cmark\u003eSave Rules\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079945983/d7473b87-3425-472f-8d21-720192924b80.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"6\\\"\u003e\\n\u003cli\u003eThe inbound rules on the default security group should look this way after editing.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080099403/8725ec57-bea1-47b7-ad0f-8cf0f53595ba.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003ch3 id=\\\"heading-e-mounting-the-efs-and-connecting-the-ec2-instances-to-the-efs\\\"\u003e\u003cstrong\u003e\u003cmark\u003eE. MOUNTING THE EFS AND CONNECTING THE EC2 INSTANCES TO THE EFS\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\\n\u003col\u003e\\n\u003cli\u003eAt this stage, I went back to my instance and selected one of my instances and clicked \u003cstrong\u003e\u003cmark\u003eConnect\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080438556/e46f99ba-73b5-42a6-9b79-d396bed152cc.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e\u003cp\u003eI would be selecting \u003cstrong\u003eSSH Client\u003c/strong\u003e for my connection because I have a keypair which I generated for my connection.\u003c/p\u003e\\n\u003cp\u003e You can visit \u003ca target=\\\"_blank\\\" href=\\\"https://megbanj.hashnode.dev/quick-guide-to-deploying-a-linux-ec2-instance-on-aws\\\"\u003eQuick Guide to Deploying a Linux EC2 Instance on AWS\u003c/a\u003e to see how you can connect to your EC2 instance by using keypair.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eBelow is a view of what you would see on your \u003cstrong\u003ecommand prompt\u003c/strong\u003e or \u003cstrong\u003eterminal\u003c/strong\u003e once the instance is connected.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080827733/ef22fd82-c11f-4839-83df-a68f221f7b61.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"4\\\"\u003e\\n\u003cli\u003e\u003cp\u003eI installed the Amazon EFS utilities using the command \u003ccode\u003esudo dnf install -y amazon-efs-utils\u003c/code\u003e\u003c/p\u003e\\n\u003cp\u003e When installation is complete, you would see the information below\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740093348647/13fcb74f-1383-42d9-b2d7-262ceccfb194.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"5\\\"\u003e\\n\u003cli\u003e\u003cp\u003eNext, let’s create a directory by using the command \u003ccode\u003esudo mkdir (directory name)\u003c/code\u003e\u003cstrong\u003e.\u003c/strong\u003e I named my directory \u003cstrong\u003eefs\u003c/strong\u003e.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003ea. Return to the EFS on your console, Click on \u003cstrong\u003e\u003cmark\u003eAttach\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740093936322/4660467d-3b35-4c2f-af9f-fd136485f0a3.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"6\\\"\u003e\\n\u003cli\u003eb. Copy the mount command using the \u003cstrong\u003e\u003cmark\u003eEFS mount helper.\u003c/mark\u003e\u003c/strong\u003e\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740097665820/6d51b56d-3736-4917-a1a6-80b4e77704b1.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003e Return to your command prompt or terminal and paste the \u003cstrong\u003e\u003cmark\u003eEFS mount helper command\u003c/mark\u003e\u003c/strong\u003e which you just copied. Run the command.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eTo confirm that you have successfully mounted the EFS, run the \u003ccode\u003edf -T\u003c/code\u003e command.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740094254932/e4d13839-6d73-49e2-a180-a56488fa8c42.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"9\\\"\u003e\\n\u003cli\u003e\u003cp\u003eYou can run the \u003ccode\u003els -l\u003c/code\u003e command to see the permissions on the file.\u003c/p\u003e\\n\u003cp\u003e As you can see in the diagram, the ownership of the \u003cstrong\u003e\u003cmark\u003eefs\u003c/mark\u003e\u003c/strong\u003e directory is the \u003cstrong\u003e\u003cmark\u003eroot\u003c/mark\u003e\u003c/strong\u003e which does not give me the permission to execute any command as the \u003cstrong\u003e\u003cmark\u003euser.\u003c/mark\u003e\u003c/strong\u003e For me to get the permission, I used \u003ccode\u003esudo chown\u003c/code\u003e command.\u003c/p\u003e\\n\u003cp\u003e I typed \u003ccode\u003esudo chown ec2-user efs/.\u003c/code\u003e You would see that the change of ownership was done immediately I ran the chown command.\u003c/p\u003e\\n\u003cp\u003e \u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740094453749/0d0d9b9a-d64b-4127-8eef-1517923f3309.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"10\\\"\u003e\\n\u003cli\u003e\u003cp\u003eType \u003ccode\u003ecd\u003c/code\u003e \u003cstrong\u003e\u003cmark\u003e(directory name)\u003c/mark\u003e\u003c/strong\u003e to get into your directory.\u003c/p\u003e\\n\u003cp\u003eNext, you can create or put any type of files inside the directory. To create a file, use the \u003ccode\u003etouch\u003c/code\u003e \u003cstrong\u003e\u003cmark\u003ecommand + filename\u003c/mark\u003e\u003c/strong\u003e. I created a file named \u003cstrong\u003eDragonfly\u003c/strong\u003e and also dropped a \u003cstrong\u003eWordPress document\u003c/strong\u003e in the directory.\u003c/p\u003e\\n\u003cp\u003eAfterwards, I ran the \u003ccode\u003els\u003c/code\u003e command to confirm the files I have in my directory as seen below.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095244108/7d4703c3-131c-46e8-8761-8e972f29753a.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095253812/89814bde-4fac-4dee-9bad-2fdb40b52ef2.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eNow, let’s connect the second instance and see if we can view the same files in the directory that has been mounted on the EFS by the first EC2 instance.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eType the same commands as you did when you connected the previous EC2 instance.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003cp\u003e\u003ccode\u003esudo dnf install -y amazon-efs-utils\u003c/code\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003emake directory (give it the same name as the one in the previous EC2 instance).\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003esudo mount (using the EFS mount finder)\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003e\u003ccode\u003edf -T\u003c/code\u003e\u003c/p\u003e\\n\u003cp\u003e  From the diagram below, you would notice the EFS has been mounted.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095830974/7d638266-6236-418e-b427-e181d34ebe00.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003col start=\\\"13\\\"\u003e\\n\u003cli\u003e\u003cp\u003eEnter your directory by using cd command\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003cp\u003ecd (directory name)\u003c/p\u003e\\n\u003cp\u003e  When you are in the directory, type the \u003ccode\u003els\u003c/code\u003e command to give you a list of the files in the directory. Remember you don’t need to create any file in this instance anymore. Since you have successfully mounted the EFS on the second instance, you would be able to see whatever files has been saved in the EFS.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003cp\u003eNotice how \u003cstrong\u003e\u003cmark\u003eInstance 2\u003c/mark\u003e\u003c/strong\u003e can see the same files that \u003cstrong\u003e\u003cmark\u003eInstance 1\u003c/mark\u003e\u003c/strong\u003e created and saved on the EFS.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740096931090/22480733-fe47-43da-98c4-8c0530811bd3.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740096941432/dcae3206-616f-4ff8-8841-b060f6551a0a.png\\\" alt class=\\\"image--center mx-auto\\\" /\u003e\u003c/p\u003e\\n\u003cp\u003eI hope I have been able to help someone out through the process and believe that you enjoyed putting the process together to achieve your result.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003eThank you for stopping by and look forward to dropping another piece for your enlightenment.\u003c/p\u003e\\n\u003cp\u003eKindly drop a comment, like and share.\u003c/p\u003e\\n\",\"cuid\":\"cm7e1wcck000009jm2pp7dglb\",\"views\":189,\"title\":\"How to Easily Attach EFS to Your EC2 Instance\",\"slug\":\"how-to-easily-attach-efs-to-your-ec2-instance\",\"dateAdded\":\"2025-02-21T00:46:41.540Z\",\"dateUpdated\":\"2025-02-27T14:46:10.803Z\",\"type\":\"story\",\"coverImage\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png\",\"isCoverImagePortrait\":false,\"isCoverAttributionHidden\":false,\"brief\":\"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve...\",\"isFollowing\":false,\"totalReactions\":2,\"totalReactionsByCurrentUser\":0,\"series\":null,\"isPinnedToBlog\":false,\"readTime\":7,\"sB\":false,\"isAMA\":false,\"subtitle\":\"\",\"isPartOfSeries\":false,\"hasTags\":true,\"ogImage\":\"\",\"metaTitle\":\"\",\"metaDescription\":\"\",\"isRepublished\":false,\"autoPublishedFromRSS\":false,\"responses\":[],\"isFeatured\":false,\"hasLatex\":false,\"stickCoverToBottom\":false,\"hideBadges\":false,\"badges\":[],\"isDelisted\":false,\"audioUrls\":{},\"disableComments\":false,\"enableToc\":false,\"toc\":[],\"noIndex\":false}","legacySeriesJSON":null,"headProps":{"title":"How to Easily Attach EFS to Your EC2 Instance","description":"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve...","author":{"name":"Ms. B","username":"MegBanj"},"links":[{"rel":"canonical","href":"https://megbanj.hashnode.dev/how-to-easily-attach-efs-to-your-ec2-instance"}],"pageType":"article","bannerType":"large","ogSiteName":"MegBanj's Cloud Experience","url":"https://megbanj.hashnode.dev/how-to-easily-attach-efs-to-your-ec2-instance","ogImage":"https://hashnode.com/utility/r?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1740099430378%2Fb41a9e73-23c4-437c-ae05-b519fbeaab3a.png%3Fw%3D1200%26h%3D630%26fit%3Dcrop%26crop%3Dentropy%26auto%3Dcompress%2Cformat%26format%3Dwebp%26fm%3Dpng","twitterImage":"https://hashnode.com/utility/r?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1740099430378%2Fb41a9e73-23c4-437c-ae05-b519fbeaab3a.png%3Fw%3D1200%26h%3D630%26fit%3Dcrop%26crop%3Dentropy%26auto%3Dcompress%2Cformat%26format%3Dwebp%26fm%3Dpng","twitterHandle":"","monetization":null,"style":{},"customHeadItems":{"customFavicon":"https://cdn.hashnode.com/res/hashnode/image/upload/v1736383408254/0c3463f6-9173-49e3-ac1b-cdec58694967.jpeg?auto=compress,format\u0026format=webp\u0026fm=png","customTheme":null,"customMeta":null},"hljs":true},"isDarkTheme":false,"headerColor":null,"isBadge":null,"isRecommendations":null,"isHome":null,"currentMenuId":null,"hnmcMode":false,"postCUID":"cm7e1wcck000009jm2pp7dglb","seoSchema":{"@context":"https://schema.org","@type":"NewsArticle","url":"https://megbanj.hashnode.dev/how-to-easily-attach-efs-to-your-ec2-instance","mainEntityOfPage":"https://megbanj.hashnode.dev/how-to-easily-attach-efs-to-your-ec2-instance","headline":"How to Easily Attach EFS to Your EC2 Instance","description":"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve...","datePublished":"2025-02-21T00:46:41.540Z","dateModified":"2025-02-27T14:46:10.803Z","isAccessibleForFree":true,"author":{"@type":"Person","name":"Ms. B","url":"https://hashnode.com/@MegBanj"},"publisher":{"@type":"Organization","name":"MegBanj's Cloud Experience","url":"https://megbanj.hashnode.dev","logo":"https://hashnode.com/utility/r?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1559814205701%2Fek9fO-yT0.jpeg%3Fw%3D800%26bm%3Dnormal%26balph%3D100%26txt64%3DTWVnQmFuaidzIENsb3VkIEV4cGVyaWVuY2U%26txtsize%3D42%26txtfit%3Dmax%26txtalign%3Dmiddle%2Ccenter%26txtfont%3DHelvetica%20Neue%2CBold%26txtclr%3D000000%26blend%3Dffffff"},"image":{"@type":"ImageObject","url":"https://cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png"}},"publication":{"__typename":"Publication","id":"677f1bb695ed9f78a029d211","url":"https://megbanj.hashnode.dev","canonicalURL":"https://megbanj.hashnode.dev","urlPattern":"SIMPLE","title":"MegBanj's Cloud Experience","displayTitle":null,"hasBadges":false,"descriptionSEO":null,"publicMembers":{"totalDocuments":1},"about":null,"features":{"proTeam":{"isEnabled":false},"newsletter":{"isEnabled":true},"viewCount":{"isEnabled":true},"readTime":{"isEnabled":true},"textSelectionSharer":{"isEnabled":true},"customCSS":{"isEnabled":false,"published":null,"draft":null},"gptBotCrawling":{"__typename":"GPTBotCrawlingFeature","isEnabled":false}},"metaTags":null,"ogMetaData":{"image":null},"author":{"__typename":"User","id":"677ee106fefedc24fee40ced","name":"Ms. B","username":"MegBanj","profilePicture":"https://cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png"},"preferences":{"__typename":"Preferences","logo":null,"darkMode":{"__typename":"DarkModePreferences","logo":null,"enabled":false},"navbarItems":[],"enabledPages":{"__typename":"PagesPreferences","badges":false,"newsletter":true,"members":true},"layout":"stacked","disableFooterBranding":false,"isSubscriptionModalDisabled":false},"favicon":"https://cdn.hashnode.com/res/hashnode/image/upload/v1736383408254/0c3463f6-9173-49e3-ac1b-cdec58694967.jpeg","headerColor":null,"integrations":{"fbPixelID":null,"fathomSiteID":null,"fathomCustomDomainEnabled":null,"fathomCustomDomain":null,"hotjarSiteID":null,"matomoSiteID":null,"matomoURL":null,"gaTrackingID":null,"gTagManagerID":null,"plausibleAnalyticsEnabled":null,"koalaPublicKey":null,"msClarityID":null},"imprintV2":null,"postsCount":{"totalDocuments":6},"isTeam":true,"links":null,"domainInfo":{"__typename":"DomainInfo","hashnodeSubdomain":"megbanj","domain":null,"wwwPrefixedDomain":null},"redirectionRules":[],"totalRecommendedPublications":0,"sponsorship":{"content":null,"stripe":null},"allowContributorEdits":true,"rssImport":null,"post":{"id":"67b7ccf1d40823de9b451072","cuid":"cm7e1wcck000009jm2pp7dglb","title":"How to Easily Attach EFS to Your EC2 Instance","subtitle":null,"slug":"how-to-easily-attach-efs-to-your-ec2-instance","brief":"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve...","featured":false,"publishedAt":"2025-02-21T00:46:41.540Z","updatedAt":"2025-02-27T14:46:10.803Z","author":{"__typename":"User","id":"677ee106fefedc24fee40ced","name":"Ms. B","username":"MegBanj","deactivated":false,"profilePicture":"https://cdn.hashnode.com/res/hashnode/image/upload/v1736368390944/8df5995e-5c0a-415c-8bd8-e2bd06f785f1.png","bio":{"html":"\u003cp\u003eHi, I'm a tech enthusiast who has decided to document her cloud journey as the day goes by. Stay tuned and follow me through this journey which I believe would be a wonderful experience.\u003c/p\u003e\n\u003cp\u003eI'm also a team player who loves collaborating with others to create innovative solutions.\u003c/p\u003e\n"},"socialMediaLinks":{"website":"","github":"https://github.com/MegBanj001","twitter":"","facebook":"","stackoverflow":"","linkedin":"https://www.linkedin.com/in/magdalene-banj"}},"coAuthors":[],"seo":{"title":null,"description":null,"shouldNotIndex":false},"coverImage":{"url":"https://cdn.hashnode.com/res/hashnode/image/upload/v1740099430378/b41a9e73-23c4-437c-ae05-b519fbeaab3a.png","isPortrait":false,"attribution":null,"isAttributionHidden":false,"photographer":null},"responseCount":1,"reactionCount":2,"replyCount":0,"content":{"html":"\u003cp\u003eWelcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\u003c/p\u003e\n\u003cp\u003eToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve into giving you the steps, let me briefly give an explanation of what EFS is.\u003c/p\u003e\n\u003cp\u003eThis is an architectural design to explain the process for your understanding.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740087532547/925a25ff-bb66-4774-8061-e0acc52b9494.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003cp\u003eAmazon Elastic File System (Amazon EFS) is a file storage service that can be used with Amazon compute (Amazon EC2, Amazon ECS, Amazon EKS, AWS Lambda, and AWS Fargate, containers, serverless) and on-premises servers. It provides a file system interface, file system access and concurrently accessible storage for up to thousands of EC2 instances.\u003c/p\u003e\n\u003cp\u003eIt is built to scale on demand without disrupting applications, growing and shrinking automatically as you add and remove files which makes it highly scalable, highly available, and highly durable. You can share data without provisioning or managing storage capacity and performance and you can also create and configure file systems quickly and easily.\u003c/p\u003e\n\u003cp\u003eAmazon EFS offers the different file system types, performance and throughput modes to meet your availability and durability needs.\u003c/p\u003e\n\u003cp\u003eAmazon EFS supports the Network File System version 4 (NFSv4.1 and NFSv4.0) protocol.\u003c/p\u003e\n\u003cp\u003eAmazon EFS supports authentication, authorization, and encryption capabilities to help you meet your security and compliance requirements. Amazon EFS supports two forms of encryption for file systems: \u003cmark\u003eencryption in transit and encryption at rest\u003c/mark\u003e. You can enable encryption at rest when creating an Amazon EFS file system. If you do, \u003cmark\u003eall of your data and metadata is encrypted\u003c/mark\u003e. You can enable encryption in transit when you mount the file system.\u003c/p\u003e\n\u003cp\u003eNow that I have given a brief summary of what an Amazon EFS is and its attributes, let’s get started.\u003c/p\u003e\n\u003cp\u003eWe would need to create the following resources on AWS to help us achieve what we want:\u003c/p\u003e\n\u003cp\u003ea. An AWS account\u003c/p\u003e\n\u003cp\u003eb. Amazon EFS\u003c/p\u003e\n\u003cp\u003ec. Multiple instances (I would be creating 2 instances)\u003c/p\u003e\n\u003cp\u003ed. Security Group\u003c/p\u003e\n\u003cp\u003e\u003cmark\u003eA.\u003c/mark\u003e You need an AWS account to get started. This link would help you create an AWS account. \u003ca target=\"_blank\" href=\"https://signin.aws.amazon.com/signup?request_type=register\"\u003ehttps://signin.aws.amazon.com/signup?request_type=register\u003c/a\u003e. After creating an account, that account becomes the Root user. You can go ahead and create a user under the IAM.\u003c/p\u003e\n\u003cp\u003eIf you already have an existing account, go to \u003ca target=\"_blank\" href=\"https://aws.amazon.com\"\u003ehttps://aws.amazon.com\u003c/a\u003e, and sign into the console.\u003c/p\u003e\n\u003ch3 id=\"heading-b-creating-the-amazon-efs\"\u003e\u003cstrong\u003e\u003cmark\u003eB. CREATING THE AMAZON EFS\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eType EFS in the search bar and click on it.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740064869569/3de09a76-a04c-42b2-a71c-af398c324cda.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e\u003cp\u003eClick \u003cstrong\u003eCREATE FILE SYSTEM\u003c/strong\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cmark\u003eName:\u003c/mark\u003e Give a unique name for your EFS File System.\u003c/p\u003e\n\u003cp\u003e \u003cmark\u003eVirtual Private Cloud:\u003c/mark\u003e This is created automatically with the EFS.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eAfter you have given the EFS a name, select \u003cstrong\u003eCustomize\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065040291/8441eebe-b390-4749-99f1-143879a38108.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003eUnder customize, there are 4 steps. You can leave Step 1 and 2 in its default state and move to Step 3.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065273532/1f80be22-1003-4e30-a28b-9adb1eb76868.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003e\u003cp\u003eStep 3 covers the policy options. I checked the encryption in-transit.\u003c/p\u003e\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eEncryption in-transit\u003c/mark\u003e\u003c/strong\u003e is a process of protecting data while it is being transferred between two points in a network.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eSelect \u003cstrong\u003eCreate.\u003c/strong\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740065475238/0cd4271a-ddc6-4613-8cb1-d6ccca8ba3e3.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"7\"\u003e\n\u003cli\u003eThe EFS has be successfully created as shown in diagram below.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066328963/7b2f25cf-2fa1-4c96-a21e-26cd1185e201.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003ch3 id=\"heading-c-creating-our-ec2-instances\"\u003e\u003cstrong\u003e\u003cmark\u003eC. CREATING OUR EC2 INSTANCES\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003eType EC2 in the search bar and click on it.\u003c/p\u003e\n\u003cp\u003e \u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066524564/ddbae823-125e-4d97-bbee-9799b50bface.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eNext, select \u003cstrong\u003eLaunch Instance.\u003c/strong\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cmark\u003eName:\u003c/mark\u003e Give a unique name to your EC2 instance.\u003c/p\u003e\n\u003cp\u003e \u003cmark\u003eApplication and OS Images (AMI):\u003c/mark\u003e Choose \u003cstrong\u003eAmazon Linux\u003c/strong\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066690474/01d740fb-e15b-406e-a235-aaa3a9d3880a.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003e\u003cmark\u003eDescription\u003c/mark\u003e\u003c/strong\u003e: I left it as default\u003c/p\u003e\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eInstance type:\u003c/mark\u003e\u003c/strong\u003e I chose \u003cstrong\u003et2 micro\u003c/strong\u003e. You can choose any other instance type under the free tier eligible.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740066874989/c171f03e-df18-487b-843b-1637198abe00.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003e\u003cmark\u003eKey pair:\u003c/mark\u003e\u003c/strong\u003e I chose to \u003cstrong\u003ecreate a key pair\u003c/strong\u003e, but you can \u003cstrong\u003eProceed without key pair\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003e If you choose Proceed without key pair, it takes you to the next stage.\u003c/p\u003e\n\u003cp\u003e If you choose to create a key pair, the diagram attached shows you what to do.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740067159957/f7b7eb9c-455b-4948-9706-cba8d44fcabf.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003e\u003cp\u003eUnder Network settings, click \u003cstrong\u003eEdit.\u003c/strong\u003e The VPC that was automatically created by AWS for the EFS becomes the default VPC. Leave every part as default and move to \u003cstrong\u003eFirewall (security groups)\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003e Select \u003cstrong\u003eCreate security group\u003c/strong\u003e and give it a unique name. You can also give it a description by describing what the security group is for.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740067413922/446b1695-3601-4bd8-beaa-791ee5799acd.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"7\"\u003e\n\u003cli\u003e\u003cp\u003eYou can leave every other selection in their default state and proceed to \u003cstrong\u003e\u003cmark\u003eLaunch Instance\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eAt this point, the instance is successfully launched.\u003c/p\u003e\n\u003cp\u003e Follow same steps and create the second instance.\u003c/p\u003e\n\u003cp\u003e \u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078532058/99062a7c-bb22-46bd-92e9-45b115a482c7.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eAfter the second instance is successfully launched, this is what you would be having.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078618235/b4104873-e918-4a63-8d57-5bc93822bb77.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003ch3 id=\"heading-d-configuring-the-rules-in-the-security-group\"\u003e\u003cstrong\u003e\u003cmark\u003eD. CONFIGURING THE RULES IN THE SECURITY GROUP\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003eAfter the launching of instances, we need to edit the rules for the security group to enable the EC2 instances communicate with the EFS by allowing traffic from port 2049.\u003c/p\u003e\n\u003cp\u003e For this to be effected, go to \u003cstrong\u003eNetwork \u0026amp; Security\u003c/strong\u003e and click \u003cstrong\u003e\u003cmark\u003eSecurity Groups\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740078813337/b163790d-e3b5-4d24-aef8-cd8017d80e21.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e\u003cp\u003eThe security group tab shows you all the security groups created.\u003c/p\u003e\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eDefault\u003c/mark\u003e\u003c/strong\u003e was created for the EFS automatically while the EFS was being configured.\u003c/p\u003e\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eSG_Machine1\u003c/mark\u003e\u003c/strong\u003e was created when I was launching the first EC2 instance.\u003c/p\u003e\n\u003cp\u003e \u003cstrong\u003e\u003cmark\u003eSG_Machine2\u003c/mark\u003e\u003c/strong\u003e was created when I was launching the second EC2 instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079074214/50b5b986-ab7e-42f6-9e78-bd28499a7a42.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003eSelect the \u003cstrong\u003edefault\u003c/strong\u003e security group, and click \u003cstrong\u003e\u003cmark\u003eEdit Inbound Rule\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079339061/30225a03-df3f-46af-9379-8da6789d3794.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003e\u003cp\u003eClick \u003cstrong\u003eAdd Rule\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003e Under Type, Click the drop-down arrow and select \u003cstrong\u003e\u003cmark\u003eNFS\u003c/mark\u003e\u003c/strong\u003e. Also, select the security group created for that particular instance as shown in the diagram.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079458775/b4b65e97-3c7c-4857-9885-0e2db39611c1.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003e\u003cp\u003eRepeat same process above for the second instance also. Make sure to select the correct security group for the instance.\u003c/p\u003e\n\u003cp\u003e Next, select \u003cstrong\u003e\u003cmark\u003eSave Rules\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740079945983/d7473b87-3425-472f-8d21-720192924b80.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003eThe inbound rules on the default security group should look this way after editing.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080099403/8725ec57-bea1-47b7-ad0f-8cf0f53595ba.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003ch3 id=\"heading-e-mounting-the-efs-and-connecting-the-ec2-instances-to-the-efs\"\u003e\u003cstrong\u003e\u003cmark\u003eE. MOUNTING THE EFS AND CONNECTING THE EC2 INSTANCES TO THE EFS\u003c/mark\u003e\u003c/strong\u003e\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eAt this stage, I went back to my instance and selected one of my instances and clicked \u003cstrong\u003e\u003cmark\u003eConnect\u003c/mark\u003e\u003c/strong\u003e.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080438556/e46f99ba-73b5-42a6-9b79-d396bed152cc.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e\u003cp\u003eI would be selecting \u003cstrong\u003eSSH Client\u003c/strong\u003e for my connection because I have a keypair which I generated for my connection.\u003c/p\u003e\n\u003cp\u003e You can visit \u003ca target=\"_blank\" href=\"https://megbanj.hashnode.dev/quick-guide-to-deploying-a-linux-ec2-instance-on-aws\"\u003eQuick Guide to Deploying a Linux EC2 Instance on AWS\u003c/a\u003e to see how you can connect to your EC2 instance by using keypair.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eBelow is a view of what you would see on your \u003cstrong\u003ecommand prompt\u003c/strong\u003e or \u003cstrong\u003eterminal\u003c/strong\u003e once the instance is connected.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740080827733/ef22fd82-c11f-4839-83df-a68f221f7b61.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003e\u003cp\u003eI installed the Amazon EFS utilities using the command \u003ccode\u003esudo dnf install -y amazon-efs-utils\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e When installation is complete, you would see the information below\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740093348647/13fcb74f-1383-42d9-b2d7-262ceccfb194.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003e\u003cp\u003eNext, let’s create a directory by using the command \u003ccode\u003esudo mkdir (directory name)\u003c/code\u003e\u003cstrong\u003e.\u003c/strong\u003e I named my directory \u003cstrong\u003eefs\u003c/strong\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003ea. Return to the EFS on your console, Click on \u003cstrong\u003e\u003cmark\u003eAttach\u003c/mark\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003e \u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740093936322/4660467d-3b35-4c2f-af9f-fd136485f0a3.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003eb. Copy the mount command using the \u003cstrong\u003e\u003cmark\u003eEFS mount helper.\u003c/mark\u003e\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740097665820/6d51b56d-3736-4917-a1a6-80b4e77704b1.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003cp\u003e Return to your command prompt or terminal and paste the \u003cstrong\u003e\u003cmark\u003eEFS mount helper command\u003c/mark\u003e\u003c/strong\u003e which you just copied. Run the command.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eTo confirm that you have successfully mounted the EFS, run the \u003ccode\u003edf -T\u003c/code\u003e command.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740094254932/e4d13839-6d73-49e2-a180-a56488fa8c42.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"9\"\u003e\n\u003cli\u003e\u003cp\u003eYou can run the \u003ccode\u003els -l\u003c/code\u003e command to see the permissions on the file.\u003c/p\u003e\n\u003cp\u003e As you can see in the diagram, the ownership of the \u003cstrong\u003e\u003cmark\u003eefs\u003c/mark\u003e\u003c/strong\u003e directory is the \u003cstrong\u003e\u003cmark\u003eroot\u003c/mark\u003e\u003c/strong\u003e which does not give me the permission to execute any command as the \u003cstrong\u003e\u003cmark\u003euser.\u003c/mark\u003e\u003c/strong\u003e For me to get the permission, I used \u003ccode\u003esudo chown\u003c/code\u003e command.\u003c/p\u003e\n\u003cp\u003e I typed \u003ccode\u003esudo chown ec2-user efs/.\u003c/code\u003e You would see that the change of ownership was done immediately I ran the chown command.\u003c/p\u003e\n\u003cp\u003e \u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740094453749/0d0d9b9a-d64b-4127-8eef-1517923f3309.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"10\"\u003e\n\u003cli\u003e\u003cp\u003eType \u003ccode\u003ecd\u003c/code\u003e \u003cstrong\u003e\u003cmark\u003e(directory name)\u003c/mark\u003e\u003c/strong\u003e to get into your directory.\u003c/p\u003e\n\u003cp\u003eNext, you can create or put any type of files inside the directory. To create a file, use the \u003ccode\u003etouch\u003c/code\u003e \u003cstrong\u003e\u003cmark\u003ecommand + filename\u003c/mark\u003e\u003c/strong\u003e. I created a file named \u003cstrong\u003eDragonfly\u003c/strong\u003e and also dropped a \u003cstrong\u003eWordPress document\u003c/strong\u003e in the directory.\u003c/p\u003e\n\u003cp\u003eAfterwards, I ran the \u003ccode\u003els\u003c/code\u003e command to confirm the files I have in my directory as seen below.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095244108/7d4703c3-131c-46e8-8761-8e972f29753a.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095253812/89814bde-4fac-4dee-9bad-2fdb40b52ef2.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eNow, let’s connect the second instance and see if we can view the same files in the directory that has been mounted on the EFS by the first EC2 instance.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eType the same commands as you did when you connected the previous EC2 instance.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003esudo dnf install -y amazon-efs-utils\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003emake directory (give it the same name as the one in the previous EC2 instance).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003esudo mount (using the EFS mount finder)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003edf -T\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e  From the diagram below, you would notice the EFS has been mounted.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740095830974/7d638266-6236-418e-b427-e181d34ebe00.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003col start=\"13\"\u003e\n\u003cli\u003e\u003cp\u003eEnter your directory by using cd command\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003ecd (directory name)\u003c/p\u003e\n\u003cp\u003e  When you are in the directory, type the \u003ccode\u003els\u003c/code\u003e command to give you a list of the files in the directory. Remember you don’t need to create any file in this instance anymore. Since you have successfully mounted the EFS on the second instance, you would be able to see whatever files has been saved in the EFS.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eNotice how \u003cstrong\u003e\u003cmark\u003eInstance 2\u003c/mark\u003e\u003c/strong\u003e can see the same files that \u003cstrong\u003e\u003cmark\u003eInstance 1\u003c/mark\u003e\u003c/strong\u003e created and saved on the EFS.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740096931090/22480733-fe47-43da-98c4-8c0530811bd3.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1740096941432/dcae3206-616f-4ff8-8841-b060f6551a0a.png\" alt class=\"image--center mx-auto\" /\u003e\u003c/p\u003e\n\u003cp\u003eI hope I have been able to help someone out through the process and believe that you enjoyed putting the process together to achieve your result.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThank you for stopping by and look forward to dropping another piece for your enlightenment.\u003c/p\u003e\n\u003cp\u003eKindly drop a comment, like and share.\u003c/p\u003e\n","markdown":"Welcome to my blog and thank you for stopping by. I hope my previous post has been helpful to you by means of guidance and education.\n\nToday, I would be explaining how you can attach an EFS (Elastic File System) to your EC2 instance but before I delve into giving you the steps, let me briefly give an explanation of what EFS is.\n\nThis is an architectural design to explain the process for your understanding.\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740087532547/925a25ff-bb66-4774-8061-e0acc52b9494.png align=\"center\")\n\nAmazon Elastic File System (Amazon EFS) is a file storage service that can be used with Amazon compute (Amazon EC2, Amazon ECS, Amazon EKS, AWS Lambda, and AWS Fargate, containers, serverless) and on-premises servers. It provides a file system interface, file system access and concurrently accessible storage for up to thousands of EC2 instances.\n\nIt is built to scale on demand without disrupting applications, growing and shrinking automatically as you add and remove files which makes it highly scalable, highly available, and highly durable. You can share data without provisioning or managing storage capacity and performance and you can also create and configure file systems quickly and easily.\n\nAmazon EFS offers the different file system types, performance and throughput modes to meet your availability and durability needs.\n\nAmazon EFS supports the Network File System version 4 (NFSv4.1 and NFSv4.0) protocol.\n\nAmazon EFS supports authentication, authorization, and encryption capabilities to help you meet your security and compliance requirements. Amazon EFS supports two forms of encryption for file systems: \u003cmark\u003eencryption in transit and encryption at rest\u003c/mark\u003e. You can enable encryption at rest when creating an Amazon EFS file system. If you do, \u003cmark\u003eall of your data and metadata is encrypted\u003c/mark\u003e. You can enable encryption in transit when you mount the file system.\n\nNow that I have given a brief summary of what an Amazon EFS is and its attributes, let’s get started.\n\nWe would need to create the following resources on AWS to help us achieve what we want:\n\na. An AWS account\n\nb. Amazon EFS\n\nc. Multiple instances (I would be creating 2 instances)\n\nd. Security Group\n\n\u003cmark\u003eA.\u003c/mark\u003e You need an AWS account to get started. This link would help you create an AWS account. [https://signin.aws.amazon.com/signup?request\\_type=register](https://signin.aws.amazon.com/signup?request_type=register). After creating an account, that account becomes the Root user. You can go ahead and create a user under the IAM.\n\nIf you already have an existing account, go to [https://aws.amazon.com](https://aws.amazon.com), and sign into the console.\n\n### **\u003cmark\u003eB. CREATING THE AMAZON EFS\u003c/mark\u003e**\n\n1. Type EFS in the search bar and click on it.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740064869569/3de09a76-a04c-42b2-a71c-af398c324cda.png align=\"center\")\n\n2. Click **CREATE FILE SYSTEM**\n    \n3. \u003cmark\u003eName:\u003c/mark\u003e Give a unique name for your EFS File System.\n    \n    \u003cmark\u003eVirtual Private Cloud:\u003c/mark\u003e This is created automatically with the EFS.\n    \n\nAfter you have given the EFS a name, select **Customize**.\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065040291/8441eebe-b390-4749-99f1-143879a38108.png align=\"center\")\n\n4. Under customize, there are 4 steps. You can leave Step 1 and 2 in its default state and move to Step 3.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065273532/1f80be22-1003-4e30-a28b-9adb1eb76868.png align=\"center\")\n\n5. Step 3 covers the policy options. I checked the encryption in-transit.\n    \n    **\u003cmark\u003eEncryption in-transit\u003c/mark\u003e** is a process of protecting data while it is being transferred between two points in a network.\n    \n6. Select **Create.**\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740065475238/0cd4271a-ddc6-4613-8cb1-d6ccca8ba3e3.png align=\"center\")\n\n7. The EFS has be successfully created as shown in diagram below.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066328963/7b2f25cf-2fa1-4c96-a21e-26cd1185e201.png align=\"center\")\n\n### **\u003cmark\u003eC. CREATING OUR EC2 INSTANCES\u003c/mark\u003e**\n\n1. Type EC2 in the search bar and click on it.\n    \n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066524564/ddbae823-125e-4d97-bbee-9799b50bface.png align=\"center\")\n    \n2. Next, select **Launch Instance.**\n    \n3. \u003cmark\u003eName:\u003c/mark\u003e Give a unique name to your EC2 instance.\n    \n    \u003cmark\u003eApplication and OS Images (AMI):\u003c/mark\u003e Choose **Amazon Linux**.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066690474/01d740fb-e15b-406e-a235-aaa3a9d3880a.png align=\"center\")\n\n4. **\u003cmark\u003eDescription\u003c/mark\u003e**: I left it as default\n    \n    **\u003cmark\u003eInstance type:\u003c/mark\u003e** I chose **t2 micro**. You can choose any other instance type under the free tier eligible.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740066874989/c171f03e-df18-487b-843b-1637198abe00.png align=\"center\")\n\n5. **\u003cmark\u003eKey pair:\u003c/mark\u003e** I chose to **create a key pair**, but you can **Proceed without key pair**.\n    \n    If you choose Proceed without key pair, it takes you to the next stage.\n    \n    If you choose to create a key pair, the diagram attached shows you what to do.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740067159957/f7b7eb9c-455b-4948-9706-cba8d44fcabf.png align=\"center\")\n\n6. Under Network settings, click **Edit.** The VPC that was automatically created by AWS for the EFS becomes the default VPC. Leave every part as default and move to **Firewall (security groups)**.\n    \n    Select **Create security group** and give it a unique name. You can also give it a description by describing what the security group is for.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740067413922/446b1695-3601-4bd8-beaa-791ee5799acd.png align=\"center\")\n\n7. You can leave every other selection in their default state and proceed to **\u003cmark\u003eLaunch Instance\u003c/mark\u003e**.\n    \n8. At this point, the instance is successfully launched.\n    \n    Follow same steps and create the second instance.\n    \n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078532058/99062a7c-bb22-46bd-92e9-45b115a482c7.png align=\"center\")\n    \n9. After the second instance is successfully launched, this is what you would be having.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078618235/b4104873-e918-4a63-8d57-5bc93822bb77.png align=\"center\")\n\n### **\u003cmark\u003eD. CONFIGURING THE RULES IN THE SECURITY GROUP\u003c/mark\u003e**\n\n1. After the launching of instances, we need to edit the rules for the security group to enable the EC2 instances communicate with the EFS by allowing traffic from port 2049.\n    \n    For this to be effected, go to **Network \u0026 Security** and click **\u003cmark\u003eSecurity Groups\u003c/mark\u003e**.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740078813337/b163790d-e3b5-4d24-aef8-cd8017d80e21.png align=\"center\")\n\n2. The security group tab shows you all the security groups created.\n    \n    **\u003cmark\u003eDefault\u003c/mark\u003e** was created for the EFS automatically while the EFS was being configured.\n    \n    **\u003cmark\u003eSG_Machine1\u003c/mark\u003e** was created when I was launching the first EC2 instance.\n    \n    **\u003cmark\u003eSG_Machine2\u003c/mark\u003e** was created when I was launching the second EC2 instance.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079074214/50b5b986-ab7e-42f6-9e78-bd28499a7a42.png align=\"center\")\n\n3. Select the **default** security group, and click **\u003cmark\u003eEdit Inbound Rule\u003c/mark\u003e**.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079339061/30225a03-df3f-46af-9379-8da6789d3794.png align=\"center\")\n\n4. Click **Add Rule**.\n    \n    Under Type, Click the drop-down arrow and select **\u003cmark\u003eNFS\u003c/mark\u003e**. Also, select the security group created for that particular instance as shown in the diagram.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079458775/b4b65e97-3c7c-4857-9885-0e2db39611c1.png align=\"center\")\n\n5. Repeat same process above for the second instance also. Make sure to select the correct security group for the instance.\n    \n    Next, select **\u003cmark\u003eSave Rules\u003c/mark\u003e**.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740079945983/d7473b87-3425-472f-8d21-720192924b80.png align=\"center\")\n\n6. The inbound rules on the default security group should look this way after editing.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080099403/8725ec57-bea1-47b7-ad0f-8cf0f53595ba.png align=\"center\")\n\n### **\u003cmark\u003eE. MOUNTING THE EFS AND CONNECTING THE EC2 INSTANCES TO THE EFS\u003c/mark\u003e**\n\n1. At this stage, I went back to my instance and selected one of my instances and clicked **\u003cmark\u003eConnect\u003c/mark\u003e**.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080438556/e46f99ba-73b5-42a6-9b79-d396bed152cc.png align=\"center\")\n\n2. I would be selecting **SSH Client** for my connection because I have a keypair which I generated for my connection.\n    \n    You can visit [Quick Guide to Deploying a Linux EC2 Instance on AWS](https://megbanj.hashnode.dev/quick-guide-to-deploying-a-linux-ec2-instance-on-aws) to see how you can connect to your EC2 instance by using keypair.\n    \n3. Below is a view of what you would see on your **command prompt** or **terminal** once the instance is connected.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740080827733/ef22fd82-c11f-4839-83df-a68f221f7b61.png align=\"center\")\n\n4. I installed the Amazon EFS utilities using the command `sudo dnf install -y amazon-efs-utils`\n    \n    When installation is complete, you would see the information below\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740093348647/13fcb74f-1383-42d9-b2d7-262ceccfb194.png align=\"center\")\n\n5. Next, let’s create a directory by using the command `sudo mkdir (directory name)`**.** I named my directory **efs**.\n    \n6. a. Return to the EFS on your console, Click on **\u003cmark\u003eAttach\u003c/mark\u003e**.\n    \n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740093936322/4660467d-3b35-4c2f-af9f-fd136485f0a3.png align=\"center\")\n    \n    6. b. Copy the mount command using the **\u003cmark\u003eEFS mount helper.\u003c/mark\u003e**\n        \n7. ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740097665820/6d51b56d-3736-4917-a1a6-80b4e77704b1.png align=\"center\")\n    \n    Return to your command prompt or terminal and paste the **\u003cmark\u003eEFS mount helper command\u003c/mark\u003e** which you just copied. Run the command.\n    \n8. To confirm that you have successfully mounted the EFS, run the `df -T` command.\n    \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740094254932/e4d13839-6d73-49e2-a180-a56488fa8c42.png align=\"center\")\n\n9. You can run the `ls -l` command to see the permissions on the file.\n    \n    As you can see in the diagram, the ownership of the **\u003cmark\u003eefs\u003c/mark\u003e** directory is the **\u003cmark\u003eroot\u003c/mark\u003e** which does not give me the permission to execute any command as the **\u003cmark\u003euser.\u003c/mark\u003e** For me to get the permission, I used `sudo chown` command.\n    \n    I typed `sudo chown ec2-user efs/.` You would see that the change of ownership was done immediately I ran the chown command.\n    \n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740094453749/0d0d9b9a-d64b-4127-8eef-1517923f3309.png align=\"center\")\n    \n    10. Type `cd` **\u003cmark\u003e(directory name)\u003c/mark\u003e** to get into your directory.\n        \n        Next, you can create or put any type of files inside the directory. To create a file, use the `touch` **\u003cmark\u003ecommand + filename\u003c/mark\u003e**. I created a file named **Dragonfly** and also dropped a **WordPress document** in the directory.\n        \n        Afterwards, I ran the `ls` command to confirm the files I have in my directory as seen below.\n        \n        ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095244108/7d4703c3-131c-46e8-8761-8e972f29753a.png align=\"center\")\n        \n        ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095253812/89814bde-4fac-4dee-9bad-2fdb40b52ef2.png align=\"center\")\n        \n    11. Now, let’s connect the second instance and see if we can view the same files in the directory that has been mounted on the EFS by the first EC2 instance.\n        \n    12. Type the same commands as you did when you connected the previous EC2 instance.\n        \n        * `sudo dnf install -y amazon-efs-utils`\n            \n        * make directory (give it the same name as the one in the previous EC2 instance).\n            \n        * sudo mount (using the EFS mount finder)\n            \n        * `df -T`\n            \n            From the diagram below, you would notice the EFS has been mounted.\n            \n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740095830974/7d638266-6236-418e-b427-e181d34ebe00.png align=\"center\")\n\n13. Enter your directory by using cd command\n    \n    * cd (directory name)\n        \n        When you are in the directory, type the `ls` command to give you a list of the files in the directory. Remember you don’t need to create any file in this instance anymore. Since you have successfully mounted the EFS on the second instance, you would be able to see whatever files has been saved in the EFS.\n        \n14. Notice how **\u003cmark\u003eInstance 2\u003c/mark\u003e** can see the same files that **\u003cmark\u003eInstance 1\u003c/mark\u003e** created and saved on the EFS.\n    \n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740096931090/22480733-fe47-43da-98c4-8c0530811bd3.png align=\"center\")\n    \n    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1740096941432/dcae3206-616f-4ff8-8841-b060f6551a0a.png align=\"center\")\n    \n    I hope I have been able to help someone out through the process and believe that you enjoyed putting the process together to achieve your result.\n    \n\nThank you for stopping by and look forward to dropping another piece for your enlightenment.\n\nKindly drop a comment, like and share."},"views":189,"preferences":{"pinnedToBlog":false,"disableComments":false,"stickCoverToBottom":false,"isDelisted":false},"readTimeInMinutes":7,"series":null,"tags":[{"id":"62bbe9f257496ff2aa455861","slug":"efs","name":"EFS"},{"id":"5708ff9c115103c3b09782d7","slug":"storage","name":"storage"},{"id":"56744721958ef13879b94a18","slug":"ec2","name":"ec2"},{"id":"643d794da75bf124a0b6aad8","slug":"ec2-instance","name":"EC2 instance"},{"id":"633c14343851feab268a46a9","slug":"mount","name":"mount"},{"id":"6380d7361e50d717cb911726","slug":"securitygroups","name":"securitygroups"},{"id":"59d734b88109ada408d200e0","slug":"connect","name":"connect"},{"id":"57f158af4ed9193df77de41e","slug":"amazon-ec2","name":"Amazon EC2"},{"id":"62bbe9f257496ff2aa455862","slug":"amazon-efs","name":"Amazon EFS"}],"ogMetaData":{"image":null},"canonicalUrl":null,"hasLatexInPost":false,"audioUrls":null,"isFollowed":null,"bookmarked":false,"features":{"tableOfContents":{"isEnabled":false,"items":[]},"badges":{"isEnabled":true,"items":[]}},"isAutoPublishedFromRSS":false,"authenticatedUserLikes":{"edges":[]},"totalUserLikes":{"totalDocuments":2},"isShadowBanned":false,"isAskMeAnything":false},"redirectedPost":null,"staticPage":null},"series":null}},"__N_SSP":true},"page":"/[...slug]","query":{"slug":["how-to-easily-attach-efs-to-your-ec2-instance"]},"buildId":"oPPU97FcZpzFPT65rAEgv","isFallback":false,"dynamicIds":[87179],"gssp":true,"scriptLoader":[]}</script><div id="hn-modal"></div><div id="hn-toast"></div></body></html>